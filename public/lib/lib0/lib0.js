/* esm.sh - lib0@0.2.109 */


var Qr=Object.defineProperty;var c=(t,e)=>{for(var o in e)Qr(t,o,{get:e[o],enumerable:!0})};var O={};c(O,{appendTo:()=>sn,bubblesortItem:()=>fn,copy:()=>nn,create:()=>rn,equalFlat:()=>xe,every:()=>_o,flatten:()=>ln,fold:()=>No,from:()=>vt,isArray:()=>H,last:()=>on,map:()=>de,some:()=>cn,unfold:()=>ge,unique:()=>an,uniqueBy:()=>pn});var K={};c(K,{create:()=>v,first:()=>en,from:()=>me,toArray:()=>tn});var v=()=>new Set,tn=t=>Array.from(t),en=t=>t.values().next().value??void 0,me=t=>new Set(t);var on=t=>t[t.length-1],rn=()=>[],nn=t=>t.slice(),sn=(t,e)=>{for(let o=0;o<e.length;o++)t.push(e[o])},vt=Array.from,_o=(t,e)=>{for(let o=0;o<t.length;o++)if(!e(t[o],o,t))return!1;return!0},cn=(t,e)=>{for(let o=0;o<t.length;o++)if(e(t[o],o,t))return!0;return!1},xe=(t,e)=>t.length===e.length&&_o(t,(o,r)=>o===e[r]),ln=t=>No(t,[],(e,o)=>e.concat(o)),ge=(t,e)=>{let o=new Array(t);for(let r=0;r<t;r++)o[r]=e(r,o);return o},No=(t,e,o)=>t.reduce(o,e),H=Array.isArray,an=t=>vt(me(t)),pn=(t,e)=>{let o=v(),r=[];for(let n=0;n<t.length;n++){let s=t[n],i=e(s);o.has(i)||(o.add(i),r.push(s))}return r},de=(t,e)=>{let o=Array(t.length);for(let r=0;r<t.length;r++)o[r]=e(t[r],r,t);return o},fn=(t,e,o)=>{let r=t[e],n=e;for(;n+1<t.length&&o(r,t[n+1])>0;)t[n]=t[n+1],t[++n]=r;if(e===n&&n>0)for(;n>0&&o(t[n-1],r)>0;)t[n]=t[n-1],t[--n]=r;return n};var Co={};c(Co,{BIT1:()=>un,BIT10:()=>Tn,BIT11:()=>bn,BIT12:()=>Bn,BIT13:()=>wn,BIT14:()=>In,BIT15:()=>Sn,BIT16:()=>En,BIT17:()=>vn,BIT18:()=>An,BIT19:()=>Un,BIT2:()=>hn,BIT20:()=>_n,BIT21:()=>Nn,BIT22:()=>Cn,BIT23:()=>kn,BIT24:()=>Ln,BIT25:()=>On,BIT26:()=>Dn,BIT27:()=>Rn,BIT28:()=>Fn,BIT29:()=>Mn,BIT3:()=>mn,BIT30:()=>Pn,BIT31:()=>qn,BIT32:()=>jn,BIT4:()=>xn,BIT5:()=>gn,BIT6:()=>dn,BIT7:()=>ye,BIT8:()=>D,BIT9:()=>yn,BITS0:()=>Vn,BITS1:()=>Gn,BITS10:()=>Yn,BITS11:()=>Xn,BITS12:()=>Zn,BITS13:()=>Jn,BITS14:()=>Qn,BITS15:()=>ts,BITS16:()=>es,BITS17:()=>os,BITS18:()=>rs,BITS19:()=>ns,BITS2:()=>zn,BITS20:()=>ss,BITS21:()=>is,BITS22:()=>cs,BITS23:()=>ls,BITS24:()=>as,BITS25:()=>ps,BITS26:()=>fs,BITS27:()=>us,BITS28:()=>hs,BITS29:()=>ms,BITS3:()=>$n,BITS30:()=>xs,BITS31:()=>Te,BITS32:()=>R,BITS4:()=>Wn,BITS5:()=>Kn,BITS6:()=>At,BITS7:()=>N,BITS8:()=>A,BITS9:()=>Hn});var un=1,hn=2,mn=4,xn=8,gn=16,dn=32,ye=64,D=128,yn=256,Tn=512,bn=1024,Bn=2048,wn=4096,In=8192,Sn=16384,En=32768,vn=65536,An=131072,Un=262144,_n=524288,Nn=1048576,Cn=2097152,kn=4194304,Ln=8388608,On=16777216,Dn=33554432,Rn=67108864,Fn=134217728,Mn=268435456,Pn=536870912,qn=1073741824,jn=-2147483648,Vn=0,Gn=1,zn=3,$n=7,Wn=15,Kn=31,At=63,N=127,A=255,Hn=511,Yn=1023,Xn=2047,Zn=4095,Jn=8191,Qn=16383,ts=32767,es=65535,os=131071,rs=262143,ns=524287,ss=1048575,is=2097151,cs=4194303,ls=8388607,as=16777215,ps=33554431,fs=67108863,us=134217727,hs=268435455,ms=536870911,xs=1073741823,Te=2147483647,R=4294967295;var ur={};c(ur,{publish:()=>ec,subscribe:()=>Qi,unsubscribe:()=>tc});var F={};c(F,{all:()=>ys,any:()=>ds,copy:()=>gs,create:()=>x,map:()=>be,setIfUndefined:()=>rt});var x=()=>new Map,gs=t=>{let e=x();return t.forEach((o,r)=>{e.set(r,o)}),e},rt=(t,e,o)=>{let r=t.get(e);return r===void 0&&t.set(e,r=o()),r},be=(t,e)=>{let o=[];for(let[r,n]of t)o.push(e(n,r));return o},ds=(t,e)=>{for(let[o,r]of t)if(e(r,o))return!0;return!1},ys=(t,e)=>{for(let[o,r]of t)if(!e(r,o))return!1;return!0};var Jt={};c(Jt,{copyUint8Array:()=>Hi,createUint8ArrayFromArrayBuffer:()=>no,createUint8ArrayFromLen:()=>xt,createUint8ArrayViewFromArrayBuffer:()=>pr,decodeAny:()=>Xi,encodeAny:()=>Yi,fromBase64:()=>Zt,fromBase64UrlEncoded:()=>$i,fromHexString:()=>Ki,shiftNBitsLeft:()=>Zi,toBase64:()=>Xt,toBase64UrlEncoded:()=>zi,toHexString:()=>Wi});var Y={};c(Y,{MAX_UTF16_CHARACTER:()=>Ts,_decodeUtf8Native:()=>Ro,_decodeUtf8Polyfill:()=>Do,_encodeUtf8Native:()=>Oo,_encodeUtf8Polyfill:()=>Lo,decodeUtf8:()=>we,encodeUtf8:()=>_t,escapeHTML:()=>vs,fromCamelCase:()=>Ut,fromCharCode:()=>M,fromCodePoint:()=>Be,repeat:()=>Es,splice:()=>Ss,trimLeft:()=>ko,unescapeHTML:()=>As,utf8ByteLength:()=>Is,utf8TextDecoder:()=>U,utf8TextEncoder:()=>P});var M=String.fromCharCode,Be=String.fromCodePoint,Ts=M(65535),bs=t=>t.toLowerCase(),Bs=/^\s*/g,ko=t=>t.replace(Bs,""),ws=/([A-Z])/g,Ut=(t,e)=>ko(t.replace(ws,o=>`${e}${bs(o)}`)),Is=t=>unescape(encodeURIComponent(t)).length,Lo=t=>{let e=unescape(encodeURIComponent(t)),o=e.length,r=new Uint8Array(o);for(let n=0;n<o;n++)r[n]=e.codePointAt(n);return r},P=typeof TextEncoder<"u"?new TextEncoder:null,Oo=t=>P.encode(t),_t=P?Oo:Lo,Do=t=>{let e=t.length,o="",r=0;for(;e>0;){let n=e<1e4?e:1e4,s=t.subarray(r,r+n);r+=n,o+=String.fromCodePoint.apply(null,s),e-=n}return decodeURIComponent(escape(o))},U=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});U&&U.decode(new Uint8Array).length===1&&(U=null);var Ro=t=>U.decode(t),we=U?Ro:Do,Ss=(t,e,o,r="")=>t.slice(0,e)+r+t.slice(e+o),Es=(t,e)=>ge(e,()=>t).join(""),vs=t=>t.replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[e]),As=t=>t.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,e=>({"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'})[e]);var nt={};c(nt,{ensureConf:()=>Ks,getConf:()=>$o,getParam:()=>Ws,getVariable:()=>j,hasConf:()=>De,hasParam:()=>Rt,isBrowser:()=>X,isMac:()=>zs,isNode:()=>q,production:()=>Hs,supportsColor:()=>Re});var Ie={};c(Ie,{undefinedToNull:()=>Nt});var Nt=t=>t===void 0?null:t;var Se=class{constructor(){this.map=new Map}setItem(e,o){this.map.set(e,o)}getItem(e){return this.map.get(e)}},Fo=new Se,Ee=!0;try{typeof localStorage<"u"&&localStorage&&(Fo=localStorage,Ee=!1)}catch{}var Ct=Fo,Mo=t=>Ee||addEventListener("storage",t),Po=t=>Ee||removeEventListener("storage",t);var Dt={};c(Dt,{apply:()=>Rs,callAll:()=>zo,equalityDeep:()=>Ot,equalityFlat:()=>Ms,equalityStrict:()=>ke,id:()=>Fs,is:()=>Vs,isArray:()=>Ps,isNumber:()=>js,isOneOf:()=>Le,isString:()=>qs,isTemplate:()=>Gs,nop:()=>Ce});var _e={};c(_e,{assign:()=>_s,create:()=>Us,deepFreeze:()=>Go,equalFlat:()=>Ue,every:()=>jo,forEach:()=>Cs,freeze:()=>Vo,hasProperty:()=>Lt,isEmpty:()=>Os,keys:()=>Ae,length:()=>kt,map:()=>ks,size:()=>ve,some:()=>Ls,values:()=>Ns});var Us=()=>Object.create(null),_s=Object.assign,Ae=Object.keys,Ns=Object.values,Cs=(t,e)=>{for(let o in t)e(t[o],o)},ks=(t,e)=>{let o=[];for(let r in t)o.push(e(t[r],r));return o},kt=t=>Ae(t).length,ve=t=>Ae(t).length,Ls=(t,e)=>{for(let o in t)if(e(t[o],o))return!0;return!1},Os=t=>{for(let e in t)return!1;return!0},jo=(t,e)=>{for(let o in t)if(!e(t[o],o))return!1;return!0},Lt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ue=(t,e)=>t===e||ve(t)===ve(e)&&jo(t,(o,r)=>(o!==void 0||Lt(e,r))&&e[r]===o),Vo=Object.freeze,Go=t=>{for(let e in t){let o=t[e];(typeof o=="object"||typeof o=="function")&&Go(t[e])}return Vo(t)};var Ne=Symbol("Equality");var zo=(t,e,o=0)=>{try{for(;o<t.length;o++)t[o](...e)}finally{o<t.length&&zo(t,e,o+1)}},Ce=()=>{},Rs=t=>t(),Fs=t=>t,ke=(t,e)=>t===e,Ms=(t,e)=>t===e||t!=null&&e!=null&&t.constructor===e.constructor&&(H(t)&&xe(t,e)||typeof t=="object"&&Ue(t,e)),Ot=(t,e)=>{if(t===e)return!0;if(t==null||e==null||t.constructor!==e.constructor)return!1;if(t[Ne]!=null)return t[Ne](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;break}case Set:{if(t.size!==e.size)return!1;for(let o of t)if(!e.has(o))return!1;break}case Map:{if(t.size!==e.size)return!1;for(let o of t.keys())if(!e.has(o)||!Ot(t.get(o),e.get(o)))return!1;break}case Object:if(kt(t)!==kt(e))return!1;for(let o in t)if(!Lt(t,o)||!Ot(t[o],e[o]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(!Ot(t[o],e[o]))return!1;break;default:return!1}return!0},Le=(t,e)=>e.includes(t),Ps=H,qs=t=>t&&t.constructor===String,js=t=>t!=null&&t.constructor===Number,Vs=(t,e)=>t&&t.constructor===e,Gs=t=>e=>e&&e.constructor===t;var q=typeof __Process$<"u"&&__Process$.release&&/node|io\.js/.test(__Process$.release.name)&&Object.prototype.toString.call(typeof __Process$<"u"?__Process$:0)==="[object process]",X=typeof window<"u"&&typeof document<"u"&&!q,zs=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,w,$s=[],Oe=()=>{if(w===void 0)if(q){w=x();let t=__Process$.argv,e=null;for(let o=0;o<t.length;o++){let r=t[o];r[0]==="-"?(e!==null&&w.set(e,""),e=r):e!==null?(w.set(e,r),e=null):$s.push(r)}e!==null&&w.set(e,"")}else typeof location=="object"?(w=x(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){let[e,o]=t.split("=");w.set(`--${Ut(e,"-")}`,o),w.set(`-${Ut(e,"-")}`,o)}})):w=x();return w},Rt=t=>Oe().has(t),Ws=(t,e)=>Oe().get(t)||e,j=t=>q?Nt(__Process$.env[t.toUpperCase().replaceAll("-","_")]):Nt(Ct.getItem(t)),$o=t=>Oe().get("--"+t)||j(t),Ks=t=>{let e=$o(t);if(e==null)throw new Error(`Expected configuration "${t.toUpperCase().replaceAll("-","_")}"`);return e},De=t=>Rt("--"+t)||j(t)!==null,Hs=De("production"),Ys=q&&Le(__Process$.env.FORCE_COLOR,["true","1","2"]),Re=Ys||!Rt("--no-colors")&&!De("no-color")&&(!q||__Process$.stdout.isTTY)&&(!q||Rt("--color")||j("COLORTERM")!==null||(j("TERM")||"").includes("color"));var m={};c(m,{abs:()=>it,add:()=>Fe,ceil:()=>st,exp10:()=>Mt,floor:()=>a,imul:()=>Xs,isNaN:()=>ti,isNegativeZero:()=>Z,log:()=>Js,log10:()=>ct,log2:()=>Zs,max:()=>Ft,min:()=>lt,pow:()=>ei,round:()=>V,sign:()=>oi,sqrt:()=>Qs});var a=Math.floor,st=Math.ceil,it=Math.abs,Xs=Math.imul,V=Math.round,ct=Math.log10,Zs=Math.log2,Js=Math.log,Qs=Math.sqrt,Fe=(t,e)=>t+e,lt=(t,e)=>t<e?t:e,Ft=(t,e)=>t>e?t:e,ti=Number.isNaN,ei=Math.pow,Mt=t=>Math.pow(10,t),oi=Math.sign,Z=t=>t!==0?t<0:1/t<0;var Wt={};c(Wt,{Encoder:()=>d,IncUintOptRleEncoder:()=>Ge,IntDiffEncoder:()=>je,IntDiffOptRleEncoder:()=>ze,RleEncoder:()=>qe,RleIntDiffEncoder:()=>Ve,StringEncoder:()=>$e,UintOptRleEncoder:()=>Gt,_writeVarStringNative:()=>Xo,_writeVarStringPolyfill:()=>Zo,createEncoder:()=>zt,encode:()=>We,hasContent:()=>pi,length:()=>Ho,set:()=>at,setUint16:()=>mi,setUint32:()=>di,setUint8:()=>ui,toUint8Array:()=>_,verifyLen:()=>Yo,write:()=>l,writeAny:()=>pt,writeBigInt64:()=>er,writeBigUint64:()=>Bi,writeBinaryEncoder:()=>bi,writeFloat32:()=>Qo,writeFloat64:()=>tr,writeOnDataView:()=>ft,writeTerminatedString:()=>Ti,writeTerminatedUint8Array:()=>Jo,writeUint16:()=>hi,writeUint32:()=>xi,writeUint32BigEndian:()=>gi,writeUint8:()=>fi,writeUint8Array:()=>$t,writeVarInt:()=>J,writeVarString:()=>jt,writeVarUint:()=>I,writeVarUint8Array:()=>Ke});var qt={};c(qt,{HIGHEST_INT32:()=>si,HIGHEST_UINT32:()=>ii,LOWEST_INT32:()=>ni,MAX_SAFE_INTEGER:()=>Pt,MIN_SAFE_INTEGER:()=>ri,countBits:()=>ai,isInteger:()=>Me,isNaN:()=>ci,parseInt:()=>li});var Pt=Number.MAX_SAFE_INTEGER,ri=Number.MIN_SAFE_INTEGER,ni=1<<31,si=2147483647,ii=4294967295,Me=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&a(t)===t),ci=Number.isNaN,li=Number.parseInt,ai=t=>{t&=4294967295;let e=0;for(;t;)t&=t-1,e++;return e};var d=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},zt=()=>new d,We=t=>{let e=zt();return t(e),_(e)},Ho=t=>{let e=t.cpos;for(let o=0;o<t.bufs.length;o++)e+=t.bufs[o].length;return e},pi=t=>t.cpos>0||t.bufs.length>0,_=t=>{let e=new Uint8Array(Ho(t)),o=0;for(let r=0;r<t.bufs.length;r++){let n=t.bufs[r];e.set(n,o),o+=n.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),o),e},Yo=(t,e)=>{let o=t.cbuf.length;o-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ft(o,e)*2),t.cpos=0)},l=(t,e)=>{let o=t.cbuf.length;t.cpos===o&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(o*2),t.cpos=0),t.cbuf[t.cpos++]=e},at=(t,e,o)=>{let r=null;for(let n=0;n<t.bufs.length&&r===null;n++){let s=t.bufs[n];e<s.length?r=s:e-=s.length}r===null&&(r=t.cbuf),r[e]=o},fi=l,ui=at,hi=(t,e)=>{l(t,e&255),l(t,e>>>8&255)},mi=(t,e,o)=>{at(t,e,o&255),at(t,e+1,o>>>8&255)},xi=(t,e)=>{for(let o=0;o<4;o++)l(t,e&255),e>>>=8},gi=(t,e)=>{for(let o=3;o>=0;o--)l(t,e>>>8*o&255)},di=(t,e,o)=>{for(let r=0;r<4;r++)at(t,e+r,o&255),o>>>=8},I=(t,e)=>{for(;e>127;)l(t,128|127&e),e=a(e/128);l(t,127&e)},J=(t,e)=>{let o=Z(e);for(o&&(e=-e),l(t,(e>63?128:0)|(o?64:0)|63&e),e=a(e/64);e>0;)l(t,(e>127?128:0)|127&e),e=a(e/128)},Pe=new Uint8Array(3e4),yi=Pe.length/3,Xo=(t,e)=>{if(e.length<yi){let o=P.encodeInto(e,Pe).written||0;I(t,o);for(let r=0;r<o;r++)l(t,Pe[r])}else Ke(t,_t(e))},Zo=(t,e)=>{let o=unescape(encodeURIComponent(e)),r=o.length;I(t,r);for(let n=0;n<r;n++)l(t,o.codePointAt(n))},jt=P&&P.encodeInto?Xo:Zo,Ti=(t,e)=>Jo(t,_t(e)),Jo=(t,e)=>{for(let o=0;o<e.length;o++){let r=e[o];(r===0||r===1)&&l(t,1),l(t,e[o])}l(t,0)},bi=(t,e)=>$t(t,_(e)),$t=(t,e)=>{let o=t.cbuf.length,r=t.cpos,n=lt(o-r,e.length),s=e.length-n;t.cbuf.set(e.subarray(0,n),r),t.cpos+=n,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ft(o*2,s)),t.cbuf.set(e.subarray(n)),t.cpos=s)},Ke=(t,e)=>{I(t,e.byteLength),$t(t,e)},ft=(t,e)=>{Yo(t,e);let o=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,o},Qo=(t,e)=>ft(t,4).setFloat32(0,e,!1),tr=(t,e)=>ft(t,8).setFloat64(0,e,!1),er=(t,e)=>ft(t,8).setBigInt64(0,e,!1),Bi=(t,e)=>ft(t,8).setBigUint64(0,e,!1),Wo=new DataView(new ArrayBuffer(4)),wi=t=>(Wo.setFloat32(0,t),Wo.getFloat32(0)===t),pt=(t,e)=>{switch(typeof e){case"string":l(t,119),jt(t,e);break;case"number":Me(e)&&it(e)<=2147483647?(l(t,125),J(t,e)):wi(e)?(l(t,124),Qo(t,e)):(l(t,123),tr(t,e));break;case"bigint":l(t,122),er(t,e);break;case"object":if(e===null)l(t,126);else if(H(e)){l(t,117),I(t,e.length);for(let o=0;o<e.length;o++)pt(t,e[o])}else if(e instanceof Uint8Array)l(t,116),Ke(t,e);else{l(t,118);let o=Object.keys(e);I(t,o.length);for(let r=0;r<o.length;r++){let n=o[r];jt(t,n),pt(t,e[n])}}break;case"boolean":l(t,e?120:121);break;default:l(t,127)}},qe=class extends d{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&I(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}},je=class extends d{constructor(e){super(),this.s=e}write(e){J(this,e-this.s),this.s=e}},Ve=class extends d{constructor(e){super(),this.s=e,this.count=0}write(e){this.s===e&&this.count>0?this.count++:(this.count>0&&I(this,this.count-1),this.count=1,J(this,e-this.s),this.s=e)}},Vt=t=>{t.count>0&&(J(t.encoder,t.count===1?t.s:-t.s),t.count>1&&I(t.encoder,t.count-2))},Gt=class{constructor(){this.encoder=new d,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Vt(this),this.count=1,this.s=e)}toUint8Array(){return Vt(this),_(this.encoder)}},Ge=class{constructor(){this.encoder=new d,this.s=0,this.count=0}write(e){this.s+this.count===e?this.count++:(Vt(this),this.count=1,this.s=e)}toUint8Array(){return Vt(this),_(this.encoder)}},Ko=t=>{if(t.count>0){let e=t.diff*2+(t.count===1?0:1);J(t.encoder,e),t.count>1&&I(t.encoder,t.count-2)}},ze=class{constructor(){this.encoder=new d,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Ko(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Ko(this),_(this.encoder)}},$e=class{constructor(){this.sarr=[],this.s="",this.lensE=new Gt}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new d;return this.sarr.push(this.s),this.s="",jt(e,this.sarr.join("")),$t(e,this.lensE.toUint8Array()),_(e)}};var ro={};c(ro,{Decoder:()=>S,IncUintOptRleDecoder:()=>Ze,IntDiffDecoder:()=>Ye,IntDiffOptRleDecoder:()=>Je,RleDecoder:()=>He,RleIntDiffDecoder:()=>Xe,StringDecoder:()=>Qe,UintOptRleDecoder:()=>Ht,_readVarStringNative:()=>sr,_readVarStringPolyfill:()=>nr,clone:()=>Ei,createDecoder:()=>Yt,hasContent:()=>to,peekUint16:()=>ki,peekUint32:()=>Li,peekUint8:()=>Ci,peekVarInt:()=>Di,peekVarString:()=>Fi,peekVarUint:()=>Oi,readAny:()=>ht,readBigInt64:()=>ar,readBigUint64:()=>Mi,readFloat32:()=>cr,readFloat64:()=>lr,readFromDataView:()=>mt,readTailAsUint8Array:()=>vi,readTerminatedString:()=>Ri,readTerminatedUint8Array:()=>ir,readUint16:()=>Ui,readUint32:()=>_i,readUint32BigEndian:()=>Ni,readUint8:()=>Q,readUint8Array:()=>eo,readVarInt:()=>k,readVarString:()=>ut,readVarUint:()=>y,readVarUint8Array:()=>oo,skip8:()=>Ai});var Kt={};c(Kt,{create:()=>C,methodUnimplemented:()=>Ii,unexpectedCase:()=>Si});var C=t=>new Error(t),Ii=()=>{throw C("Method unimplemented")},Si=()=>{throw C("Unexpected case")};var or=C("Unexpected end of array"),rr=C("Integer out of Range"),S=class{constructor(e){this.arr=e,this.pos=0}},Yt=t=>new S(t),to=t=>t.pos!==t.arr.length,Ei=(t,e=t.pos)=>{let o=Yt(t.arr);return o.pos=e,o},eo=(t,e)=>{let o=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,o},oo=t=>eo(t,y(t)),vi=t=>eo(t,t.arr.length-t.pos),Ai=t=>t.pos++,Q=t=>t.arr[t.pos++],Ui=t=>{let e=t.arr[t.pos]+(t.arr[t.pos+1]<<8);return t.pos+=2,e},_i=t=>{let e=t.arr[t.pos]+(t.arr[t.pos+1]<<8)+(t.arr[t.pos+2]<<16)+(t.arr[t.pos+3]<<24)>>>0;return t.pos+=4,e},Ni=t=>{let e=t.arr[t.pos+3]+(t.arr[t.pos+2]<<8)+(t.arr[t.pos+1]<<16)+(t.arr[t.pos]<<24)>>>0;return t.pos+=4,e},Ci=t=>t.arr[t.pos],ki=t=>t.arr[t.pos]+(t.arr[t.pos+1]<<8),Li=t=>t.arr[t.pos]+(t.arr[t.pos+1]<<8)+(t.arr[t.pos+2]<<16)+(t.arr[t.pos+3]<<24)>>>0,y=t=>{let e=0,o=1,r=t.arr.length;for(;t.pos<r;){let n=t.arr[t.pos++];if(e=e+(n&127)*o,o*=128,n<128)return e;if(e>Pt)throw rr}throw or},k=t=>{let e=t.arr[t.pos++],o=e&63,r=64,n=(e&64)>0?-1:1;if((e&128)===0)return n*o;let s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],o=o+(e&127)*r,r*=128,e<128)return n*o;if(o>Pt)throw rr}throw or},Oi=t=>{let e=t.pos,o=y(t);return t.pos=e,o},Di=t=>{let e=t.pos,o=k(t);return t.pos=e,o},nr=t=>{let e=y(t);if(e===0)return"";{let o=String.fromCodePoint(Q(t));if(--e<100)for(;e--;)o+=String.fromCodePoint(Q(t));else for(;e>0;){let r=e<1e4?e:1e4,n=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,o+=String.fromCodePoint.apply(null,n),e-=r}return decodeURIComponent(escape(o))}},sr=t=>U.decode(oo(t)),ut=U?sr:nr,ir=t=>{let e=zt(),o;for(;;){if(o=Q(t),o===0)return _(e);o===1&&(o=Q(t)),l(e,o)}},Ri=t=>we(ir(t)),Fi=t=>{let e=t.pos,o=ut(t);return t.pos=e,o},mt=(t,e)=>{let o=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,o},cr=t=>mt(t,4).getFloat32(0,!1),lr=t=>mt(t,8).getFloat64(0,!1),ar=t=>mt(t,8).getBigInt64(0,!1),Mi=t=>mt(t,8).getBigUint64(0,!1),Pi=[t=>{},t=>null,k,cr,lr,ar,t=>!1,t=>!0,ut,t=>{let e=y(t),o={};for(let r=0;r<e;r++){let n=ut(t);o[n]=ht(t)}return o},t=>{let e=y(t),o=[];for(let r=0;r<e;r++)o.push(ht(t));return o},oo],ht=t=>Pi[127-Q(t)](t),He=class extends S{constructor(e,o){super(e),this.reader=o,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),to(this)?this.count=y(this)+1:this.count=-1),this.count--,this.s}},Ye=class extends S{constructor(e,o){super(e),this.s=o}read(){return this.s+=k(this),this.s}},Xe=class extends S{constructor(e,o){super(e),this.s=o,this.count=0}read(){return this.count===0&&(this.s+=k(this),to(this)?this.count=y(this)+1:this.count=-1),this.count--,this.s}},Ht=class extends S{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=k(this);let e=Z(this.s);this.count=1,e&&(this.s=-this.s,this.count=y(this)+2)}return this.count--,this.s}},Ze=class extends S{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=k(this);let e=Z(this.s);this.count=1,e&&(this.s=-this.s,this.count=y(this)+2)}return this.count--,this.s++}},Je=class extends S{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let e=k(this),o=e&1;this.diff=a(e/2),this.count=1,o&&(this.count=y(this)+2)}return this.s+=this.diff,this.count--,this.s}},Qe=class{constructor(e){this.decoder=new Ht(e),this.str=ut(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),o=this.str.slice(this.spos,e);return this.spos=e,o}};var xt=t=>new Uint8Array(t),pr=(t,e,o)=>new Uint8Array(t,e,o),no=t=>new Uint8Array(t),qi=t=>{let e="";for(let o=0;o<t.byteLength;o++)e+=M(t[o]);return btoa(e)},ji=t=>__Buffer$.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),Vi=t=>{let e=atob(t),o=xt(e.length);for(let r=0;r<e.length;r++)o[r]=e.charCodeAt(r);return o},Gi=t=>{let e=__Buffer$.from(t,"base64");return pr(e.buffer,e.byteOffset,e.byteLength)},Xt=X?qi:ji,Zt=X?Vi:Gi,zi=t=>Xt(t).replaceAll("+","-").replaceAll("/","_").replaceAll("=",""),$i=t=>Zt(t.replaceAll("-","+").replaceAll("_","/")),Wi=t=>de(t,e=>e.toString(16).padStart(2,"0")).join(""),Ki=t=>{let e=t.length,o=new Uint8Array(st(e/2));for(let r=0;r<e;r+=2)o[o.length-r/2-1]=Number.parseInt(t.slice(e-r-2,e-r),16);return o},Hi=t=>{let e=xt(t.byteLength);return e.set(t),e},Yi=t=>We(e=>pt(e,t)),Xi=t=>ht(Yt(t)),Zi=(t,e)=>{if(e===0)return t;t=new Uint8Array(t),t[0]<<=e;for(let o=1;o<t.length;o++)t[o-1]|=t[o]>>>8-e,t[o]<<=e;return t};var fr=new Map,so=class{constructor(e){this.room=e,this.onmessage=null,this._onChange=o=>o.key===e&&this.onmessage!==null&&this.onmessage({data:Zt(o.newValue||"")}),Mo(this._onChange)}postMessage(e){Ct.setItem(this.room,Xt(no(e)))}close(){Po(this._onChange)}},Ji=typeof BroadcastChannel>"u"?so:BroadcastChannel,io=t=>rt(fr,t,()=>{let e=v(),o=new Ji(t);return o.onmessage=r=>e.forEach(n=>n(r.data,"broadcastchannel")),{bc:o,subs:e}}),Qi=(t,e)=>(io(t).subs.add(e),e),tc=(t,e)=>{let o=io(t),r=o.subs.delete(e);return r&&o.subs.size===0&&(o.bc.close(),fr.delete(t)),r},ec=(t,e,o=null)=>{let r=io(t);r.bc.postMessage(e),r.subs.forEach(n=>n(e,o))};var xr={};c(xr,{simpleDiff:()=>oc,simpleDiffArray:()=>rc,simpleDiffString:()=>mr,simpleDiffStringWithCursor:()=>nc});var co=/[\uD800-\uDBFF]/,hr=/[\uDC00-\uDFFF]/,mr=(t,e)=>{let o=0,r=0;for(;o<t.length&&o<e.length&&t[o]===e[o];)o++;for(o>0&&co.test(t[o-1])&&o--;r+o<t.length&&r+o<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&hr.test(t[t.length-r])&&r--,{index:o,remove:t.length-o-r,insert:e.slice(o,e.length-r)}},oc=mr,rc=(t,e,o=ke)=>{let r=0,n=0;for(;r<t.length&&r<e.length&&o(t[r],e[r]);)r++;for(;n+r<t.length&&n+r<e.length&&o(t[t.length-n-1],e[e.length-n-1]);)n++;return{index:r,remove:t.length-r-n,insert:e.slice(r,e.length-n)}},nc=(t,e,o)=>{let r=0,n=0;for(;r<t.length&&r<e.length&&t[r]===e[r]&&r<o;)r++;for(r>0&&co.test(t[r-1])&&r--;n+r<t.length&&n+r<e.length&&t[t.length-n-1]===e[e.length-n-1];)n++;for(n>0&&hr.test(t[t.length-n])&&n--;n+r<t.length&&n+r<e.length&&t[r]===e[r];)r++;return r>0&&co.test(t[r-1])&&r--,{index:r,remove:t.length-r-n,insert:e.slice(r,e.length-n)}};var fo={};c(fo,{CDATA_SECTION_NODE:()=>Ic,COMMENT_NODE:()=>Sc,DOCUMENT_FRAGMENT_NODE:()=>Ac,DOCUMENT_NODE:()=>Ec,DOCUMENT_TYPE_NODE:()=>vc,ELEMENT_NODE:()=>Bc,TEXT_NODE:()=>wc,addEventListener:()=>te,addEventListeners:()=>pc,append:()=>G,appendChild:()=>po,canvas:()=>uc,checkNodeType:()=>Uc,createDocumentFragment:()=>gr,createElement:()=>lo,createTextNode:()=>dr,doc:()=>g,domParser:()=>yr,element:()=>T,emitCustomEvent:()=>cc,fragment:()=>ao,getElementById:()=>gc,insertBefore:()=>bc,isParentOf:()=>_c,mapToStyleString:()=>ee,pairToStyleString:()=>Br,pairsToStyleString:()=>hc,parseElement:()=>yc,parseFragment:()=>dc,querySelector:()=>mc,querySelectorAll:()=>xc,remove:()=>ac,removeEventListener:()=>br,removeEventListeners:()=>fc,replaceWith:()=>Tc,setAttributes:()=>Tr,setAttributesMap:()=>lc,text:()=>z});var Qt={};c(Qt,{Pair:()=>gt,create:()=>p,createReversed:()=>sc,forEach:()=>dt,map:()=>ic});var gt=class{constructor(e,o){this.left=e,this.right=o}},p=(t,e)=>new gt(t,e),sc=(t,e)=>new gt(e,t),dt=(t,e)=>t.forEach(o=>e(o.left,o.right)),ic=(t,e)=>t.map(o=>e(o.left,o.right));var g=typeof document<"u"?document:{},lo=t=>g.createElement(t),gr=()=>g.createDocumentFragment(),dr=t=>g.createTextNode(t),yr=typeof DOMParser<"u"?new DOMParser:null,cc=(t,e,o)=>t.dispatchEvent(new CustomEvent(e,o)),Tr=(t,e)=>(dt(e,(o,r)=>{r===!1?t.removeAttribute(o):r===!0?t.setAttribute(o,""):t.setAttribute(o,r)}),t),lc=(t,e)=>(e.forEach((o,r)=>{t.setAttribute(r,o)}),t),ao=t=>{let e=gr();for(let o=0;o<t.length;o++)po(e,t[o]);return e},G=(t,e)=>(po(t,ao(e)),t),ac=t=>t.remove(),te=(t,e,o)=>t.addEventListener(e,o),br=(t,e,o)=>t.removeEventListener(e,o),pc=(t,e)=>(dt(e,(o,r)=>te(t,o,r)),t),fc=(t,e)=>(dt(e,(o,r)=>br(t,o,r)),t),T=(t,e=[],o=[])=>G(Tr(lo(t),e),o),uc=(t,e)=>{let o=lo("canvas");return o.height=e,o.width=t,o},z=dr,Br=t=>`${t.left}:${t.right};`,hc=t=>t.map(Br).join(""),ee=t=>be(t,(e,o)=>`${o}:${e};`).join(""),mc=(t,e)=>t.querySelector(e),xc=(t,e)=>t.querySelectorAll(e),gc=t=>g.getElementById(t),wr=t=>yr.parseFromString(`<html><body>${t}</body></html>`,"text/html").body,dc=t=>ao(wr(t).childNodes),yc=t=>wr(t).firstElementChild,Tc=(t,e)=>t.replaceWith(e),bc=(t,e,o)=>t.insertBefore(e,o),po=(t,e)=>t.appendChild(e),Bc=g.ELEMENT_NODE,wc=g.TEXT_NODE,Ic=g.CDATA_SECTION_NODE,Sc=g.COMMENT_NODE,Ec=g.DOCUMENT_NODE,vc=g.DOCUMENT_TYPE_NODE,Ac=g.DOCUMENT_FRAGMENT_NODE,Uc=(t,e)=>t.nodeType===e,_c=(t,e)=>{let o=e.parentNode;for(;o&&o!==t;)o=o.parentNode;return o===t};var ho={};c(ho,{Animation:()=>Sr,animationFrame:()=>Pc,createDebouncer:()=>Vc,enqueue:()=>L,idleCallback:()=>jc,interval:()=>Mc,timeout:()=>uo});var tt={};c(tt,{getDate:()=>Lc,getUnixTime:()=>u,humanizeDuration:()=>Oc});var Nc=["","k","M","G","T","P","E","Z","Y"],Cc=["","m","\u03BC","n","p","f","a","z","y"],Ir=(t,e=0)=>{let o=t===0?0:ct(t),r=0;for(;o<r*3&&e>-8;)e--,r--;for(;o>=3+r*3&&e<8;)e++,r++;let n=e<0?Cc[-e]:Nc[e];return{n:V((r>0?t/Mt(r*3):t*Mt(r*-3))*1e12)/1e12,prefix:n}};var Lc=()=>new Date,u=Date.now,Oc=t=>{if(t<6e4){let s=Ir(t,-1);return V(s.n*100)/100+s.prefix+"s"}t=a(t/1e3);let e=t%60,o=a(t/60)%60,r=a(t/3600)%24,n=a(t/86400);return n>0?n+"d"+(r>0||o>30?" "+(o>30?r+1:r)+"h":""):r>0?r+"h"+(o>0||e>30?" "+(e>30?o+1:o)+"min":""):o+"min"+(e>0?" "+e+"s":"")};var yt=[],Dc=()=>{for(let t=0;t<yt.length;t++)yt[t]();yt=[]},L=t=>{yt.push(t),yt.length===1&&setTimeout(Dc,0)},oe=t=>class{constructor(o){this._=o}destroy(){t(this._)}},Rc=oe(clearTimeout),uo=(t,e)=>new Rc(setTimeout(e,t)),Fc=oe(clearInterval),Mc=(t,e)=>new Fc(setInterval(e,t)),Sr=oe(t=>typeof requestAnimationFrame<"u"&&cancelAnimationFrame(t)),Pc=t=>typeof requestAnimationFrame>"u"?uo(0,t):new Sr(requestAnimationFrame(t)),qc=oe(t=>typeof cancelIdleCallback<"u"&&cancelIdleCallback(t)),jc=t=>typeof requestIdleCallback<"u"?new qc(requestIdleCallback(t)):uo(1e3,t),Vc=(t,e=-1)=>{let o=-1,r=null;return n=>{if(clearTimeout(o),n){if(e>=0){let s=u();if(r===null&&(r=s),s-r>e){r=null,o=setTimeout(n,0);return}}o=setTimeout(()=>{r=null,n()},t)}else r=null}};var Cr={};c(Cr,{add:()=>nl,addAutoKey:()=>sl,count:()=>tl,createIDBKeyRangeBound:()=>pl,createIDBKeyRangeLowerBound:()=>ul,createIDBKeyRangeUpperBound:()=>fl,createStores:()=>Jc,del:()=>ol,deleteDB:()=>Zc,get:()=>el,getAll:()=>vr,getAllKeys:()=>Ar,getAllKeysValues:()=>ll,getFirstKey:()=>cl,getLastKey:()=>il,getStore:()=>Nr,iterate:()=>al,iterateKeys:()=>_r,openDB:()=>Xc,put:()=>rl,queryFirst:()=>go,rtop:()=>E,transact:()=>Qc});var xo={};c(xo,{all:()=>mo,create:()=>$,createEmpty:()=>Gc,isPromise:()=>Yc,reject:()=>zc,resolve:()=>$c,resolveWith:()=>Wc,until:()=>Kc,untilAsync:()=>Hc,wait:()=>Er});var $=t=>new Promise(t),Gc=t=>new Promise(t),mo=Promise.all.bind(Promise),zc=t=>Promise.reject(t),$c=t=>Promise.resolve(t),Wc=t=>Promise.resolve(t),Kc=(t,e,o=10)=>$((r,n)=>{let s=u(),i=t>0,f=setInterval(()=>{e()?(clearInterval(f),r()):i&&u()-s>t&&(clearInterval(f),n(new Error("Timeout")))},o)}),Hc=async(t,e=0,o=10)=>{let r=u(),n=e<=0;for(;n||u()-r<=e;){if(await t())return;await Er(o)}throw new Error("Timeout")},Er=t=>$((e,o)=>setTimeout(e,t)),Yc=t=>t instanceof Promise||t&&t.then&&t.catch&&t.finally;var E=t=>$((e,o)=>{t.onerror=r=>o(new Error(r.target.error)),t.onsuccess=r=>e(r.target.result)}),Xc=(t,e)=>$((o,r)=>{let n=indexedDB.open(t);n.onupgradeneeded=s=>e(s.target.result),n.onerror=s=>r(C(s.target.error)),n.onsuccess=s=>{let i=s.target.result;i.onversionchange=()=>{i.close()},o(i)}}),Zc=t=>E(indexedDB.deleteDatabase(t)),Jc=(t,e)=>e.forEach(o=>t.createObjectStore.apply(t,o)),Qc=(t,e,o="readwrite")=>{let r=t.transaction(e,o);return e.map(n=>Nr(r,n))},tl=(t,e)=>E(t.count(e)),el=(t,e)=>E(t.get(e)),ol=(t,e)=>E(t.delete(e)),rl=(t,e,o)=>E(t.put(e,o)),nl=(t,e,o)=>E(t.add(e,o)),sl=(t,e)=>E(t.add(e)),vr=(t,e,o)=>E(t.getAll(e,o)),Ar=(t,e,o)=>E(t.getAllKeys(e,o)),go=(t,e,o)=>{let r=null;return _r(t,e,n=>(r=n,!1),o).then(()=>r)},il=(t,e=null)=>go(t,e,"prev"),cl=(t,e=null)=>go(t,e,"next"),ll=(t,e,o)=>mo([Ar(t,e,o),vr(t,e,o)]).then(([r,n])=>r.map((s,i)=>({k:s,v:n[i]}))),Ur=(t,e)=>$((o,r)=>{t.onerror=r,t.onsuccess=async n=>{let s=n.target.result;if(s===null||await e(s)===!1)return o();s.continue()}}),al=(t,e,o,r="next")=>Ur(t.openCursor(e,r),n=>o(n.value,n.key)),_r=(t,e,o,r="next")=>Ur(t.openKeyCursor(e,r),n=>o(n.key)),Nr=(t,e)=>t.objectStore(e),pl=(t,e,o,r)=>IDBKeyRange.bound(t,e,o,r),fl=(t,e)=>IDBKeyRange.upperBound(t,e),ul=(t,e)=>IDBKeyRange.lowerBound(t,e);var kr={};c(kr,{createIterator:()=>yo,iteratorFilter:()=>ml,iteratorMap:()=>xl,mapIterator:()=>hl});var hl=(t,e)=>({[Symbol.iterator](){return this},next(){let o=t.next();return{value:o.done?void 0:e(o.value),done:o.done}}}),yo=t=>({[Symbol.iterator](){return this},next:t}),ml=(t,e)=>yo(()=>{let o;do o=t.next();while(!o.done&&!e(o.value));return o}),xl=(t,e)=>yo(()=>{let{done:o,value:r}=t.next();return{done:o,value:o?void 0:e(r)}});var re={};c(re,{parse:()=>gl,stringify:()=>Tt});var Tt=JSON.stringify,gl=JSON.parse;var jr={};c(jr,{BLUE:()=>Bt,BOLD:()=>bt,GREEN:()=>wt,GREY:()=>se,ORANGE:()=>et,PURPLE:()=>St,RED:()=>It,UNBOLD:()=>ne,UNCOLOR:()=>Et,VConsole:()=>ie,createModuleLogger:()=>_l,createVConsole:()=>Ul,group:()=>Il,groupCollapsed:()=>Sl,groupEnd:()=>El,print:()=>qr,printCanvas:()=>Al,printDom:()=>vl,printError:()=>Bl,printImg:()=>Bo,printImgBase64:()=>wl,vconsoles:()=>B,warn:()=>bl});var To={};c(To,{create:()=>b,isSymbol:()=>dl});var b=Symbol,dl=t=>typeof t=="symbol";var bt=b(),ne=b(),Bt=b(),se=b(),wt=b(),It=b(),St=b(),et=b(),Et=b(),Dr=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());let e=[],o=[],r=0;for(;r<t.length;r++){let n=t[r];if(n===void 0)break;if(n.constructor===String||n.constructor===Number)e.push(n);else if(n.constructor===Object)break}for(r>0&&o.push(e.join(""));r<t.length;r++){let n=t[r];n instanceof Symbol||o.push(n)}return o},Lr=[wt,St,et,Bt],bo=0,Or=u(),Rr=(t,e)=>{let o=Lr[bo],r=j("log"),n=r!==null&&(r==="*"||r==="true"||new RegExp(r,"gi").test(e));return bo=(bo+1)%Lr.length,e+=": ",n?(...s)=>{s.length===1&&s[0]?.constructor===Function&&(s=s[0]());let i=u(),h=i-Or;Or=i,t(o,e,Et,...s.map(f=>{switch(f!=null&&f.constructor===Uint8Array&&(f=Array.from(f)),typeof f){case"string":case"symbol":return f;default:return Tt(f)}}),o," +"+h+"ms")}:Ce};var Pr={[bt]:p("font-weight","bold"),[ne]:p("font-weight","normal"),[Bt]:p("color","blue"),[wt]:p("color","green"),[se]:p("color","grey"),[It]:p("color","red"),[St]:p("color","purple"),[et]:p("color","orange"),[Et]:p("color","black")},Tl=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());let e=[],o=[],r=x(),n=[],s=0;for(;s<t.length;s++){let i=t[s],h=Pr[i];if(h!==void 0)r.set(h.left,h.right);else{if(i===void 0)break;if(i.constructor===String||i.constructor===Number){let f=ee(r);s>0||f.length>0?(e.push("%c"+i),o.push(f)):e.push(i)}else break}}for(s>0&&(n=o,n.unshift(e.join("")));s<t.length;s++){let i=t[s];i instanceof Symbol||n.push(i)}return n},ce=Re?Tl:Dr,qr=(...t)=>{console.log(...ce(t)),B.forEach(e=>e.print(t))},bl=(...t)=>{console.warn(...ce(t)),t.unshift(et),B.forEach(e=>e.print(t))},Bl=t=>{console.error(t),B.forEach(e=>e.printError(t))},Bo=(t,e)=>{X&&console.log("%c                      ",`font-size: ${e}px; background-size: contain; background-repeat: no-repeat; background-image: url(${t})`),B.forEach(o=>o.printImg(t,e))},wl=(t,e)=>Bo(`data:image/gif;base64,${t}`,e),Il=(...t)=>{console.group(...ce(t)),B.forEach(e=>e.group(t))},Sl=(...t)=>{console.groupCollapsed(...ce(t)),B.forEach(e=>e.groupCollapsed(t))},El=()=>{console.groupEnd(),B.forEach(t=>t.groupEnd())},vl=t=>B.forEach(e=>e.printDom(t())),Al=(t,e)=>Bo(t.toDataURL(),e),B=v(),Fr=t=>{let e=[],o=new Map,r=0;for(;r<t.length;r++){let n=t[r],s=Pr[n];if(s!==void 0)o.set(s.left,s.right);else if(n===void 0&&(n="undefined "),n.constructor===String||n.constructor===Number){let i=T("span",[p("style",ee(o))],[z(n.toString())]);i.innerHTML===""&&(i.innerHTML="&nbsp;"),e.push(i)}else break}for(;r<t.length;r++){let n=t[r];n instanceof Symbol||(n.constructor!==String&&n.constructor!==Number&&(n=" "+Tt(n)+" "),e.push(T("span",[],[z(n)])))}return e},Mr="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;",ie=class{constructor(e){this.dom=e,this.ccontainer=this.dom,this.depth=0,B.add(this)}group(e,o=!1){L(()=>{let r=T("span",[p("hidden",o),p("style","color:grey;font-size:120%;")],[z("\u25BC")]),n=T("span",[p("hidden",!o),p("style","color:grey;font-size:125%;")],[z("\u25B6")]),s=T("div",[p("style",`${Mr};padding-left:${this.depth*10}px`)],[r,n,z(" ")].concat(Fr(e))),i=T("div",[p("hidden",o)]),h=T("div",[],[s,i]);G(this.ccontainer,[h]),this.ccontainer=i,this.depth++,te(s,"click",f=>{i.toggleAttribute("hidden"),r.toggleAttribute("hidden"),n.toggleAttribute("hidden")})})}groupCollapsed(e){this.group(e,!0)}groupEnd(){L(()=>{this.depth>0&&(this.depth--,this.ccontainer=this.ccontainer.parentElement.parentElement)})}print(e){L(()=>{G(this.ccontainer,[T("div",[p("style",`${Mr};padding-left:${this.depth*10}px`)],Fr(e))])})}printError(e){this.print([It,bt,e.toString()])}printImg(e,o){L(()=>{G(this.ccontainer,[T("img",[p("src",e),p("height",`${V(o*1.5)}px`)])])})}printDom(e){L(()=>{G(this.ccontainer,[e])})}destroy(){L(()=>{B.delete(this)})}},Ul=t=>new ie(t),_l=t=>Rr(qr,t);var Vr={};c(Vr,{createMutex:()=>Nl});var Nl=()=>{let t=!0;return(e,o)=>{if(t){t=!1;try{e()}finally{t=!0}}else o!==void 0&&o()}};var Kr={};c(Kr,{DefaultPRNG:()=>Gr,bool:()=>kl,char:()=>Rl,create:()=>Cl,int31:()=>W,int32:()=>pe,int53:()=>zr,letter:()=>$r,oneOf:()=>Pl,real53:()=>Dl,uint16Array:()=>ql,uint32:()=>Ol,uint32Array:()=>jl,uint53:()=>Ll,uint8Array:()=>wo,utf16Rune:()=>Wr,utf16String:()=>Ml,word:()=>Fl});var le=class{constructor(e){this.seed=e,this._state=e}next(){let e=this._state;return e^=e<<13,e^=e>>17,e^=e<<5,this._state=e,(e>>>0)/4294967296}};var ae=class{constructor(e){this.seed=e;let o=new le(e);this.state=new Uint32Array(4);for(let r=0;r<4;r++)this.state[r]=o.next()*4294967295;this._fresh=!0}next(){let e=this.state;if(this._fresh)return this._fresh=!1,(e[0]+e[2]>>>0)/4294967296;{this._fresh=!0;let o=e[0],r=e[1],n=e[2]^o,s=e[3]^r;return e[0]=(r<<23|o>>>9)^n^(n<<14|s>>>18),e[1]=(o<<23|r>>>9)^s^s<<14,e[2]=s<<4|n>>>28,e[3]=n<<4|s>>>28,(e[1]+e[3]>>>0)/4294967296}}};var Gr=ae,Cl=t=>new Gr(t),kl=t=>t.next()>=.5,zr=(t,e,o)=>a(t.next()*(o+1-e)+e),Ll=(t,e,o)=>it(zr(t,e,o)),pe=(t,e,o)=>a(t.next()*(o+1-e)+e),Ol=(t,e,o)=>pe(t,e,o)>>>0,W=(t,e,o)=>pe(t,e,o),Dl=t=>t.next(),Rl=t=>M(W(t,32,126)),$r=t=>M(W(t,97,122)),Fl=(t,e=0,o=20)=>{let r=W(t,e,o),n="";for(let s=0;s<r;s++)n+=$r(t);return n},Wr=t=>{let e=W(t,0,256);return Be(e)},Ml=(t,e=20)=>{let o=W(t,0,e),r="";for(let n=0;n<o;n++)r+=Wr(t);return r},Pl=(t,e)=>e[W(t,0,e.length-1)],wo=(t,e)=>{let o=xt(e);for(let r=0;r<o.length;r++)o[r]=pe(t,0,255);return o},ql=(t,e)=>new Uint16Array(wo(t,e*2).buffer),jl=(t,e)=>new Uint32Array(wo(t,e*4).buffer);var Hr={};c(Hr,{_insertionSort:()=>So,insertionSort:()=>Vl,quicksort:()=>Gl});var So=(t,e,o,r)=>{for(let n=e+1;n<=o;n++)for(let s=n;s>0&&r(t[s-1],t[s])>0;s--){let i=t[s];t[s]=t[s-1],t[s-1]=i}},Vl=(t,e)=>{So(t,0,t.length-1,e)},Io=(t,e,o,r)=>{if(o-e<42)So(t,e,o,r);else{let n=t[a((e+o)/2)],s=e,i=o;for(;;){for(;r(n,t[s])>0;)s++;for(;r(t[i],n)>0;)i--;if(s>=i)break;let h=t[s];t[s++]=t[i],t[i--]=h}Io(t,e,i,r),Io(t,i+1,o,r)}},Gl=(t,e)=>{Io(t,0,t.length-1,e)};var Yr={};c(Yr,{average:()=>$l,median:()=>zl});var zl=t=>t.length===0?NaN:t.length%2===1?t[(t.length-1)/2]:(t[a((t.length-1)/2)]+t[st((t.length-1)/2)])/2,$l=t=>t.reduce(Fe,0)/t.length;var Zr={};c(Zr,{Tree:()=>vo});var Xr=(t,e,o,r)=>{if(e===null)t.root=o,o._parent=null;else if(e.left===r)e.left=o;else if(e.right===r)e.right=o;else throw new Error("The elements are wrongly connected!")},fe=class{constructor(e){this.val=e,this.color=!0,this._left=null,this._right=null,this._parent=null}isRed(){return this.color}isBlack(){return!this.color}redden(){return this.color=!0,this}blacken(){return this.color=!1,this}get grandparent(){return this.parent.parent}get parent(){return this._parent}get sibling(){return this===this.parent.left?this.parent.right:this.parent.left}get left(){return this._left}get right(){return this._right}set left(e){e!==null&&(e._parent=this),this._left=e}set right(e){e!==null&&(e._parent=this),this._right=e}rotateLeft(e){let o=this.parent,r=this.right,n=this.right.left;r.left=this,this.right=n,Xr(e,o,r,this)}next(){if(this.right!==null){let e=this.right;for(;e.left!==null;)e=e.left;return e}else{let e=this;for(;e.parent!==null&&e!==e.parent.left;)e=e.parent;return e.parent}}prev(){if(this.left!==null){let e=this.left;for(;e.right!==null;)e=e.right;return e}else{let e=this;for(;e.parent!==null&&e!==e.parent.right;)e=e.parent;return e.parent}}rotateRight(e){let o=this.parent,r=this.left,n=this.left.right;r.right=this,this.left=n,Xr(e,o,r,this)}getUncle(){return this.parent===this.parent.parent.left?this.parent.parent.right:this.parent.parent.left}},ot=t=>t!==null?t.isBlack():!0,Eo=t=>t!==null?t.isRed():!1,vo=class{constructor(){this.root=null,this.length=0}findNext(e){let o=e.clone();return o.clock+=1,this.findWithLowerBound(o)}findPrev(e){let o=e.clone();return o.clock-=1,this.findWithUpperBound(o)}findNodeWithLowerBound(e){let o=this.root;if(o===null)return null;for(;;)if(e===null||e.lessThan(o.val._id)&&o.left!==null)o=o.left;else if(e!==null&&o.val._id.lessThan(e))if(o.right!==null)o=o.right;else return o.next();else return o}findNodeWithUpperBound(e){if(e===void 0)throw new Error("You must define from!");let o=this.root;if(o===null)return null;for(;;)if((e===null||o.val._id.lessThan(e))&&o.right!==null)o=o.right;else if(e!==null&&e.lessThan(o.val._id))if(o.left!==null)o=o.left;else return o.prev();else return o}findSmallestNode(){let e=this.root;for(;e!=null&&e.left!=null;)e=e.left;return e}findWithLowerBound(e){let o=this.findNodeWithLowerBound(e);return o==null?null:o.val}findWithUpperBound(e){let o=this.findNodeWithUpperBound(e);return o==null?null:o.val}iterate(e,o,r){let n;for(e===null?n=this.findSmallestNode():n=this.findNodeWithLowerBound(e);n!==null&&(o===null||n.val._id.lessThan(o)||n.val._id.equals(o));)r(n.val),n=n.next()}find(e){let o=this.findNode(e);return o!==null?o.val:null}findNode(e){let o=this.root;if(o===null)return null;for(;;){if(o===null)return null;if(e.lessThan(o.val._id))o=o.left;else if(o.val._id.lessThan(e))o=o.right;else return o}}delete(e){let o=this.findNode(e);if(o==null)return;if(this.length--,o.left!==null&&o.right!==null){let s=o.left;for(;s.right!==null;)s=s.right;o.val=s.val,o=s}let r,n=o.left||o.right;if(n===null?(r=!0,n=new fe(null),n.blacken(),o.right=n):r=!1,o.parent===null){r?this.root=null:(this.root=n,n.blacken(),n._parent=null);return}else if(o.parent.left===o)o.parent.left=n;else if(o.parent.right===o)o.parent.right=n;else throw new Error("Impossible!");if(o.isBlack()&&(n.isRed()?n.blacken():this._fixDelete(n)),this.root.blacken(),r)if(n.parent.left===n)n.parent.left=null;else if(n.parent.right===n)n.parent.right=null;else throw new Error("Impossible #3")}_fixDelete(e){if(e.parent===null)return;let o=e.sibling;if(Eo(o)){if(e.parent.redden(),o.blacken(),e===e.parent.left)e.parent.rotateLeft(this);else if(e===e.parent.right)e.parent.rotateRight(this);else throw new Error("Impossible #2");o=e.sibling}e.parent.isBlack()&&o.isBlack()&&ot(o.left)&&ot(o.right)?(o.redden(),this._fixDelete(e.parent)):e.parent.isRed()&&o.isBlack()&&ot(o.left)&&ot(o.right)?(o.redden(),e.parent.blacken()):(e===e.parent.left&&o.isBlack()&&Eo(o.left)&&ot(o.right)?(o.redden(),o.left.blacken(),o.rotateRight(this),o=e.sibling):e===e.parent.right&&o.isBlack()&&Eo(o.right)&&ot(o.left)&&(o.redden(),o.right.blacken(),o.rotateLeft(this),o=e.sibling),o.color=e.parent.color,e.parent.blacken(),e===e.parent.left?(o.right.blacken(),e.parent.rotateLeft(this)):(o.left.blacken(),e.parent.rotateRight(this)))}put(e){let o=new fe(e);if(this.root!==null){let r=this.root;for(;;)if(o.val._id.lessThan(r.val._id))if(r.left===null){r.left=o;break}else r=r.left;else if(r.val._id.lessThan(o.val._id))if(r.right===null){r.right=o;break}else r=r.right;else return r.val=o.val,r;this._fixInsert(o)}else this.root=o;return this.length++,this.root.blacken(),o}_fixInsert(e){if(e.parent===null){e.blacken();return}else if(e.parent.isBlack())return;let o=e.getUncle();o!==null&&o.isRed()?(e.parent.blacken(),o.blacken(),e.grandparent.redden(),this._fixInsert(e.grandparent)):(e===e.parent.right&&e.parent===e.grandparent.left?(e.parent.rotateLeft(this),e=e.left):e===e.parent.left&&e.parent===e.grandparent.right&&(e.parent.rotateRight(this),e=e.right),e.parent.blacken(),e.grandparent.redden(),e===e.parent.left?e.grandparent.rotateRight(this):e.grandparent.rotateLeft(this))}};var Jr={};c(Jr,{WebsocketClient:()=>Uo});var ue=class{constructor(){this._observers=x()}on(e,o){rt(this._observers,e,v).add(o)}once(e,o){let r=(...n)=>{this.off(e,r),o(...n)};this.on(e,r)}off(e,o){let r=this._observers.get(e);r!==void 0&&(r.delete(o),r.size===0&&this._observers.delete(e))}emit(e,o){return vt((this._observers.get(e)||x()).values()).forEach(r=>r(...o))}destroy(){this._observers=x()}};var Wl=1200,Kl=2500,he=3e4,Ao=t=>{if(t.shouldConnect&&t.ws===null){let e=new WebSocket(t.url),o=t.binaryType,r=null;o&&(e.binaryType=o),t.ws=e,t.connecting=!0,t.connected=!1,e.onmessage=i=>{t.lastMessageReceived=u();let h=i.data,f=typeof h=="string"?JSON.parse(h):h;f&&f.type==="pong"&&(clearTimeout(r),r=setTimeout(s,he/2)),t.emit("message",[f,t])};let n=i=>{t.ws!==null&&(t.ws=null,t.connecting=!1,t.connected?(t.connected=!1,t.emit("disconnect",[{type:"disconnect",error:i},t])):t.unsuccessfulReconnects++,setTimeout(Ao,lt(ct(t.unsuccessfulReconnects+1)*Wl,Kl),t)),clearTimeout(r)},s=()=>{t.ws===e&&t.send({type:"ping"})};e.onclose=()=>n(null),e.onerror=i=>n(i),e.onopen=()=>{t.lastMessageReceived=u(),t.connecting=!1,t.connected=!0,t.unsuccessfulReconnects=0,t.emit("connect",[{type:"connect"},t]),r=setTimeout(s,he/2)}}},Uo=class extends ue{constructor(e,{binaryType:o}={}){super(),this.url=e,this.ws=null,this.binaryType=o||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&he<u()-this.lastMessageReceived&&this.ws.close()},he/2),Ao(this)}send(e){this.ws&&this.ws.send(JSON.stringify(e))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&Ao(this)}};export{O as array,Co as binary,ur as broadcastchannel,Jt as buffer,Ie as conditions,ro as decoding,xr as diff,fo as dom,Wt as encoding,nt as environment,Kt as error,ho as eventloop,Dt as func,Cr as indexeddb,kr as iterator,re as json,jr as logging,F as map,m as math,Vr as mutex,qt as number,_e as object,Qt as pair,Kr as prng,xo as promise,K as set,Hr as sort,Yr as statistics,Y as string,To as symbol,tt as time,Zr as tree,Jr as websocket};
//# sourceMappingURL=lib0.bundle.mjs.map