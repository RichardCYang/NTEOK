/* esm.sh - @tiptap/core@2.0.0-beta.209 */
import{Plugin as C,PluginKey as $,TextSelection as E,Selection as N,NodeSelection as I,EditorState as Lt}from "prosemirror-state";import{EditorView as zt}from "prosemirror-view";import{keymap as Ht}from "prosemirror-keymap";import{Schema as _t,Fragment as L,DOMParser as Et,DOMSerializer as Wt,Node as xt,Slice as Vt}from "prosemirror-model";import{liftTarget as Jt,ReplaceStep as Ut,ReplaceAroundStep as Kt,Transform as Gt,canSplit as z,canJoin as ot,findWrapping as qt}from "prosemirror-transform";import{createParagraphNear as Xt,deleteSelection as Yt,exitCode as Qt,joinUp as Zt,joinDown as te,joinBackward as ee,joinForward as ne,lift as re,liftEmptyBlock as se,newlineInCode as oe,selectNodeBackward as ie,selectNodeForward as ae,selectParentNode as ce,selectTextblockEnd as le,selectTextblockStart as de,setBlockType as ut,wrapIn as ue}from "prosemirror-commands";import{liftListItem as fe,sinkListItem as pe,wrapInList as me}from "prosemirror-schema-list";function J(n){let{state:t,transaction:e}=n,{selection:r}=e,{doc:s}=e,{storedMarks:o}=e;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=e.selection,s=e.doc,o=e.storedMarks,e}}}var B=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:t,editor:e,state:r}=this,{view:s}=e,{tr:o}=r,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...d)=>{let u=c(...d)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){let{rawCommands:r,editor:s,state:o}=this,{view:i}=s,a=[],c=!!t,l=t||o.tr,d=()=>(!c&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...m)=>{let y=this.buildProps(l,e),b=p(...m)(y);return a.push(b),u}])),run:d};return u}createCan(t){let{rawCommands:e,state:r}=this,s=!1,o=t||r.tr,i=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(e).map(([c,l])=>[c,(...d)=>l(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(t,e=!0){let{rawCommands:r,editor:s,state:o}=this,{view:i}=s;o.storedMarks&&t.setStoredMarks(o.storedMarks);let a={tr:t,editor:s,view:i,state:J({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([c,l])=>[c,(...d)=>l(...d)(a)]))}};return a}},Z=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){let r=this.callbacks[t];return r&&r.forEach(s=>s.apply(this,e)),this}off(t,e){let r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(s=>s!==e):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}};function g(n,t,e){return n.config[t]===void 0&&n.parent?g(n.parent,t,e):typeof n.config[t]=="function"?n.config[t].bind({...e,parent:n.parent?g(n.parent,t,e):null}):n.config[t]}function U(n){let t=n.filter(s=>s.type==="extension"),e=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:r}}function Tt(n){let t=[],{nodeExtensions:e,markExtensions:r}=U(n),s=[...e,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(i=>{let a={name:i.name,options:i.options,storage:i.storage},c=g(i,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([f,p])=>{t.push({type:u,name:f,attribute:{...o,...p}})})})})}),s.forEach(i=>{let a={name:i.name,options:i.options,storage:i.storage},c=g(i,"addAttributes",a);if(!c)return;let l=c();Object.entries(l).forEach(([d,u])=>{let f={...o,...u};u?.isRequired&&u?.default===void 0&&delete f.default,t.push({type:i.name,name:d,attribute:f})})}),t}function w(n,t){if(typeof n=="string"){if(!t.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return t.nodes[n]}return n}function he(...n){return n.filter(t=>!!t).reduce((t,e)=>{let r={...t};return Object.entries(e).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}s==="class"?r[s]=[r[s],o].join(" "):s==="style"?r[s]=[r[s],o].join("; "):r[s]=o}),r},{})}function tt(n,t){return t.filter(e=>e.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(n.attrs)||{}:{[e.name]:n.attrs[e.name]}).reduce((e,r)=>he(e,r),{})}function At(n){return typeof n=="function"}function k(n,t=void 0,...e){return At(n)?t?n.bind(t)(...e):n(...e):n}function ge(n={}){return Object.keys(n).length===0&&n.constructor===Object}function ye(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function ft(n,t){return n.style?n:{...n,getAttrs:e=>{let r=n.getAttrs?n.getAttrs(e):n.attrs;if(r===!1)return!1;let s=t.reduce((o,i)=>{let a=i.attribute.parseHTML?i.attribute.parseHTML(e):ye(e.getAttribute(i.name));return a==null?o:{...o,[i.name]:a}},{});return{...r,...s}}}}function pt(n){return Object.fromEntries(Object.entries(n).filter(([t,e])=>t==="attrs"&&ge(e)?!1:e!=null))}function Ct(n){var t;let e=Tt(n),{nodeExtensions:r,markExtensions:s}=U(n),o=(t=r.find(c=>g(c,"topNode")))===null||t===void 0?void 0:t.name,i=Object.fromEntries(r.map(c=>{let l=e.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage},u=n.reduce((y,b)=>{let M=g(b,"extendNodeSchema",d);return{...y,...M?M(c):{}}},{}),f=pt({...u,content:k(g(c,"content",d)),marks:k(g(c,"marks",d)),group:k(g(c,"group",d)),inline:k(g(c,"inline",d)),atom:k(g(c,"atom",d)),selectable:k(g(c,"selectable",d)),draggable:k(g(c,"draggable",d)),code:k(g(c,"code",d)),defining:k(g(c,"defining",d)),isolating:k(g(c,"isolating",d)),attrs:Object.fromEntries(l.map(y=>{var b;return[y.name,{default:(b=y?.attribute)===null||b===void 0?void 0:b.default}]}))}),p=k(g(c,"parseHTML",d));p&&(f.parseDOM=p.map(y=>ft(y,l)));let h=g(c,"renderHTML",d);h&&(f.toDOM=y=>h({node:y,HTMLAttributes:tt(y,l)}));let m=g(c,"renderText",d);return m&&(f.toText=m),[c.name,f]})),a=Object.fromEntries(s.map(c=>{let l=e.filter(m=>m.type===c.name),d={name:c.name,options:c.options,storage:c.storage},u=n.reduce((m,y)=>{let b=g(y,"extendMarkSchema",d);return{...m,...b?b(c):{}}},{}),f=pt({...u,inclusive:k(g(c,"inclusive",d)),excludes:k(g(c,"excludes",d)),group:k(g(c,"group",d)),spanning:k(g(c,"spanning",d)),code:k(g(c,"code",d)),attrs:Object.fromEntries(l.map(m=>{var y;return[m.name,{default:(y=m?.attribute)===null||y===void 0?void 0:y.default}]}))}),p=k(g(c,"parseHTML",d));p&&(f.parseDOM=p.map(m=>ft(m,l)));let h=g(c,"renderHTML",d);return h&&(f.toDOM=m=>h({mark:m,HTMLAttributes:tt(m,l)})),[c.name,f]}));return new _t({topNode:o,nodes:i,marks:a})}function X(n,t){return t.nodes[n]||t.marks[n]||null}function mt(n,t){return Array.isArray(t)?t.some(e=>(typeof e=="string"?e:e.name)===n.name):t}var be=(n,t=500)=>{let e="",r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-t),r,(s,o,i,a)=>{var c,l;let d=((l=(c=s.type.spec).toText)===null||l===void 0?void 0:l.call(c,{node:s,pos:o,parent:i,index:a}))||s.textContent||"%leaf%";e+=d.slice(0,Math.max(0,r-o))}),e};function it(n){return Object.prototype.toString.call(n)==="[object RegExp]"}var A=class{constructor(t){this.find=t.find,this.handler=t.handler}},ke=(n,t)=>{if(it(t))return t.exec(n);let e=t(n);if(!e)return null;let r=[];return r.push(e.text),r.index=e.index,r.input=n,r.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(e.replaceWith)),r};function Y(n){var t;let{editor:e,from:r,to:s,text:o,rules:i,plugin:a}=n,{view:c}=e;if(c.composing)return!1;let l=c.state.doc.resolve(r);if(l.parent.type.spec.code||!((t=l.nodeBefore||l.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let d=!1,u=be(l)+o;return i.forEach(f=>{if(d)return;let p=ke(u,f.find);if(!p)return;let h=c.state.tr,m=J({state:c.state,transaction:h}),y={from:r-(p[0].length-o.length),to:s},{commands:b,chain:M,can:S}=new B({editor:e,state:m});f.handler({state:m,range:y,match:p,commands:b,chain:M,can:S})===null||!h.steps.length||(h.setMeta(a,{transform:h,from:r,to:s,text:o}),c.dispatch(h),d=!0)}),d}function we(n){let{editor:t,rules:e}=n,r=new C({state:{init(){return null},apply(s,o){let i=s.getMeta(r);return i||(s.selectionSet||s.docChanged?null:o)}},props:{handleTextInput(s,o,i,a){return Y({editor:t,from:o,to:i,text:a,rules:e,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{let{$cursor:o}=s.state.selection;o&&Y({editor:t,from:o.pos,to:o.pos,text:"",rules:e,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;let{$cursor:i}=s.state.selection;return i?Y({editor:t,from:i.pos,to:i.pos,text:`
`,rules:e,plugin:r}):!1}},isInputRules:!0});return r}function Me(n){return typeof n=="number"}var R=class{constructor(t){this.find=t.find,this.handler=t.handler}},Se=(n,t)=>{if(it(t))return[...n.matchAll(t)];let e=t(n);return e?e.map(r=>{let s=[];return s.push(r.text),s.index=r.index,s.input=n,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function ve(n){let{editor:t,state:e,from:r,to:s,rule:o}=n,{commands:i,chain:a,can:c}=new B({editor:t,state:e}),l=[];return e.doc.nodesBetween(r,s,(u,f)=>{if(!u.isTextblock||u.type.spec.code)return;let p=Math.max(r,f),h=Math.min(s,f+u.content.size),m=u.textBetween(p-f,h-f,void 0,"\uFFFC");Se(m,o.find).forEach(b=>{if(b.index===void 0)return;let M=p+b.index+1,S=M+b[0].length,O={from:e.tr.mapping.map(M),to:e.tr.mapping.map(S)},D=o.handler({state:e,range:O,match:b,commands:i,chain:a,can:c});l.push(D)})}),l.every(u=>u!==null)}function Ee(n){let{editor:t,rules:e}=n,r=null,s=!1,o=!1;return e.map(a=>new C({view(c){let l=d=>{var u;r=!((u=c.dom.parentElement)===null||u===void 0)&&u.contains(d.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",l),{destroy(){window.removeEventListener("dragstart",l)}}},props:{handleDOMEvents:{drop:c=>(o=r===c.dom.parentElement,!1),paste:(c,l)=>{var d;let u=(d=l.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return s=!!u?.includes("data-pm-slice"),!1}}},appendTransaction:(c,l,d)=>{let u=c[0],f=u.getMeta("uiEvent")==="paste"&&!s,p=u.getMeta("uiEvent")==="drop"&&!o;if(!f&&!p)return;let h=l.doc.content.findDiffStart(d.doc.content),m=l.doc.content.findDiffEnd(d.doc.content);if(!Me(h)||!m||h===m.b)return;let y=d.tr,b=J({state:d,transaction:y});if(!(!ve({editor:t,state:b,from:Math.max(h-1,0),to:m.b-1,rule:a})||!y.steps.length))return y}}))}function xe(n){let t=n.filter((e,r)=>n.indexOf(e)!==r);return[...new Set(t)]}var _=class n{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=n.resolve(t),this.schema=Ct(this.extensions),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;let o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:X(r.name,this.schema)};r.type==="mark"&&(!((s=k(g(r,"keepOnSplit",o)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(r.name);let i=g(r,"onBeforeCreate",o);i&&this.editor.on("beforeCreate",i);let a=g(r,"onCreate",o);a&&this.editor.on("create",a);let c=g(r,"onUpdate",o);c&&this.editor.on("update",c);let l=g(r,"onSelectionUpdate",o);l&&this.editor.on("selectionUpdate",l);let d=g(r,"onTransaction",o);d&&this.editor.on("transaction",d);let u=g(r,"onFocus",o);u&&this.editor.on("focus",u);let f=g(r,"onBlur",o);f&&this.editor.on("blur",f);let p=g(r,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(t){let e=n.sort(n.flatten(t)),r=xe(e.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(e=>{let r={name:e.name,options:e.options,storage:e.storage},s=g(e,"addExtensions",r);return s?[e,...this.flatten(s())]:e}).flat(10)}static sort(t){return t.sort((r,s)=>{let o=g(r,"priority")||100,i=g(s,"priority")||100;return o>i?-1:o<i?1:0})}get commands(){return this.extensions.reduce((t,e)=>{let r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:X(e.name,this.schema)},s=g(e,"addCommands",r);return s?{...t,...s()}:t},{})}get plugins(){let{editor:t}=this,e=n.sort([...this.extensions].reverse()),r=[],s=[],o=e.map(i=>{let a={name:i.name,options:i.options,storage:i.storage,editor:t,type:X(i.name,this.schema)},c=[],l=g(i,"addKeyboardShortcuts",a),d={};if(i.type==="mark"&&i.config.exitable&&(d.ArrowRight=()=>st.handleExit({editor:t,mark:i})),l){let m=Object.fromEntries(Object.entries(l()).map(([y,b])=>[y,()=>b({editor:t})]));d={...d,...m}}let u=Ht(d);c.push(u);let f=g(i,"addInputRules",a);mt(i,t.options.enableInputRules)&&f&&r.push(...f());let p=g(i,"addPasteRules",a);mt(i,t.options.enablePasteRules)&&p&&s.push(...p());let h=g(i,"addProseMirrorPlugins",a);if(h){let m=h();c.push(...m)}return c}).flat();return[we({editor:t,rules:r}),...Ee({editor:t,rules:s}),...o]}get attributes(){return Tt(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:e}=U(this.extensions);return Object.fromEntries(e.filter(r=>!!g(r,"addNodeView")).map(r=>{let s=this.attributes.filter(c=>c.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:w(r.name,this.schema)},i=g(r,"addNodeView",o);if(!i)return[];let a=(c,l,d,u)=>{let f=tt(c,s);return i()({editor:t,node:c,getPos:d,decorations:u,HTMLAttributes:f,extension:r})};return[r.name,a]}))}};function Te(n){return Object.prototype.toString.call(n).slice(8,-1)}function Q(n){return Te(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function K(n,t){let e={...n};return Q(n)&&Q(t)&&Object.keys(t).forEach(r=>{Q(t[r])?r in n?e[r]=K(n[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e}var x=class n{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=k(g(this,"addOptions",{name:this.name}))),this.storage=k(g(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new n(t)}configure(t={}){let e=this.extend();return e.options=K(this.options,t),e.storage=k(g(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){let e=new n(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=k(g(e,"addOptions",{name:e.name})),e.storage=k(g(e,"addStorage",{name:e.name,options:e.options})),e}};function Ot(n,t,e){let{from:r,to:s}=t,{blockSeparator:o=`

`,textSerializers:i={}}=e||{},a="",c=!0;return n.nodesBetween(r,s,(l,d,u,f)=>{var p;let h=i?.[l.type.name];h?(l.isBlock&&!c&&(a+=o,c=!0),u&&(a+=h({node:l,pos:d,parent:u,index:f,range:t}))):l.isText?(a+=(p=l?.text)===null||p===void 0?void 0:p.slice(Math.max(r,d)-d,s-d),c=!1):l.isBlock&&!c&&(a+=o,c=!0)}),a}function at(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}var Ae=x.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new C({key:new $("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:n}=this,{state:t,schema:e}=n,{doc:r,selection:s}=t,{ranges:o}=s,i=Math.min(...o.map(d=>d.$from.pos)),a=Math.max(...o.map(d=>d.$to.pos)),c=at(e);return Ot(r,{from:i,to:a},{textSerializers:c})}}})]}}),Ce=()=>({editor:n,view:t})=>(requestAnimationFrame(()=>{var e;n.isDestroyed||(t.dom.blur(),(e=window?.getSelection())===null||e===void 0||e.removeAllRanges())}),!0),Oe=(n=!1)=>({commands:t})=>t.setContent("",n),Pe=()=>({state:n,tr:t,dispatch:e})=>{let{selection:r}=t,{ranges:s}=r;return e&&s.forEach(({$from:o,$to:i})=>{n.doc.nodesBetween(o.pos,i.pos,(a,c)=>{if(a.type.isText)return;let{doc:l,mapping:d}=t,u=l.resolve(d.map(c)),f=l.resolve(d.map(c+a.nodeSize)),p=u.blockRange(f);if(!p)return;let h=Jt(p);if(a.type.isTextblock){let{defaultType:m}=u.parent.contentMatchAt(u.index());t.setNodeMarkup(p.start,m)}(h||h===0)&&t.lift(p,h)})}),!0},Ne=n=>t=>n(t),Be=()=>({state:n,dispatch:t})=>Xt(n,t),Ie=()=>({tr:n,dispatch:t})=>{let{selection:e}=n,r=e.$anchor.node();if(r.content.size>0)return!1;let s=n.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(t){let a=s.before(o),c=s.after(o);n.delete(a,c).scrollIntoView()}return!0}return!1},Re=n=>({tr:t,state:e,dispatch:r})=>{let s=w(n,e.schema),o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===s){if(r){let c=o.before(i),l=o.after(i);t.delete(c,l).scrollIntoView()}return!0}return!1},je=n=>({tr:t,dispatch:e})=>{let{from:r,to:s}=n;return e&&t.delete(r,s),!0},$e=()=>({state:n,dispatch:t})=>Yt(n,t),De=()=>({commands:n})=>n.keyboardShortcut("Enter"),Fe=()=>({state:n,dispatch:t})=>Qt(n,t);function W(n,t,e={strict:!0}){let r=Object.keys(t);return r.length?r.every(s=>e.strict?t[s]===n[s]:it(t[s])?t[s].test(n[s]):t[s]===n[s]):!0}function et(n,t,e={}){return n.find(r=>r.type===t&&W(r.attrs,e))}function Le(n,t,e={}){return!!et(n,t,e)}function ct(n,t,e={}){if(!n||!t)return;let r=n.parent.childAfter(n.parentOffset);if(n.parentOffset===r.offset&&r.offset!==0&&(r=n.parent.childBefore(n.parentOffset)),!r.node)return;let s=et([...r.node.marks],t,e);if(!s)return;let o=r.index,i=n.start()+r.offset,a=o+1,c=i+r.node.nodeSize;for(et([...r.node.marks],t,e);o>0&&s.isInSet(n.parent.child(o-1).marks);)o-=1,i-=n.parent.child(o).nodeSize;for(;a<n.parent.childCount&&Le([...n.parent.child(a).marks],t,e);)c+=n.parent.child(a).nodeSize,a+=1;return{from:i,to:c}}function T(n,t){if(typeof n=="string"){if(!t.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return t.marks[n]}return n}var ze=(n,t={})=>({tr:e,state:r,dispatch:s})=>{let o=T(n,r.schema),{doc:i,selection:a}=e,{$from:c,from:l,to:d}=a;if(s){let u=ct(c,o,t);if(u&&u.from<=l&&u.to>=d){let f=E.create(i,u.from,u.to);e.setSelection(f)}}return!0},He=n=>t=>{let e=typeof n=="function"?n(t):n;for(let r=0;r<e.length;r+=1)if(e[r](t))return!0;return!1};function Pt(n){return n instanceof E}function v(n=0,t=0,e=0){return Math.min(Math.max(n,t),e)}function Nt(n,t=null){if(!t)return null;let e=N.atStart(n),r=N.atEnd(n);if(t==="start"||t===!0)return e;if(t==="end")return r;let s=e.from,o=r.to;return t==="all"?E.create(n,v(0,s,o),v(n.content.size,s,o)):E.create(n,v(t,s,o),v(t,s,o))}function G(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var _e=(n=null,t={})=>({editor:e,view:r,tr:s,dispatch:o})=>{t={scrollIntoView:!0,...t};let i=()=>{G()&&r.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(r.focus(),t?.scrollIntoView&&e.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!Pt(e.state.selection))return i(),!0;let a=Nt(s.doc,n)||e.state.selection,c=e.state.selection.eq(a);return o&&(c||s.setSelection(a),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},We=(n,t)=>e=>n.every((r,s)=>t(r,{...e,index:s})),Ve=(n,t)=>({tr:e,commands:r})=>r.insertContentAt({from:e.selection.from,to:e.selection.to},n,t);function nt(n){let t=`<body>${n}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function V(n,t,e){if(e={slice:!0,parseOptions:{},...e},typeof n=="object"&&n!==null)try{return Array.isArray(n)?L.fromArray(n.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(n)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",r),V("",t,e)}if(typeof n=="string"){let r=Et.fromSchema(t);return e.slice?r.parseSlice(nt(n),e.parseOptions).content:r.parse(nt(n),e.parseOptions)}return V("",t,e)}function Je(n,t,e){let r=n.steps.length-1;if(r<t)return;let s=n.steps[r];if(!(s instanceof Ut||s instanceof Kt))return;let o=n.mapping.maps[r],i=0;o.forEach((a,c,l,d)=>{i===0&&(i=d)}),n.setSelection(N.near(n.doc.resolve(i),e))}var Ue=n=>n.toString().startsWith("<"),Ke=(n,t,e)=>({tr:r,dispatch:s,editor:o})=>{if(s){e={parseOptions:{},updateSelection:!0,...e};let i=V(t,o.schema,{parseOptions:{preserveWhitespace:"full",...e.parseOptions}});if(i.toString()==="<>")return!0;let{from:a,to:c}=typeof n=="number"?{from:n,to:n}:n,l=!0,d=!0;if((Ue(i)?i:[i]).forEach(f=>{f.check(),l=l?f.isText&&f.marks.length===0:!1,d=d?f.isBlock:!1}),a===c&&d){let{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,c+=1)}l?r.insertText(t,a,c):r.replaceWith(a,c,i),e.updateSelection&&Je(r,r.steps.length-1,-1)}return!0},Ge=()=>({state:n,dispatch:t})=>Zt(n,t),qe=()=>({state:n,dispatch:t})=>te(n,t),Xe=()=>({state:n,dispatch:t})=>ee(n,t),Ye=()=>({state:n,dispatch:t})=>ne(n,t);function Bt(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Qe(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e==="Space"&&(e=" ");let r,s,o,i;for(let a=0;a<t.length-1;a+=1){let c=t[a];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))G()||Bt()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(e=`Alt-${e}`),s&&(e=`Ctrl-${e}`),i&&(e=`Meta-${e}`),o&&(e=`Shift-${e}`),e}var Ze=n=>({editor:t,view:e,tr:r,dispatch:s})=>{let o=Qe(n).split(/-(?!$)/),i=o.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{e.someProp("handleKeyDown",l=>l(e,a))});return c?.steps.forEach(l=>{let d=l.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function j(n,t,e={}){let{from:r,to:s,empty:o}=n.selection,i=t?w(t,n.schema):null,a=[];n.doc.nodesBetween(r,s,(u,f)=>{if(u.isText)return;let p=Math.max(r,f),h=Math.min(s,f+u.nodeSize);a.push({node:u,from:p,to:h})});let c=s-r,l=a.filter(u=>i?i.name===u.node.type.name:!0).filter(u=>W(u.node.attrs,e,{strict:!1}));return o?!!l.length:l.reduce((u,f)=>u+f.to-f.from,0)>=c}var tn=(n,t={})=>({state:e,dispatch:r})=>{let s=w(n,e.schema);return j(e,s,t)?re(e,r):!1},en=()=>({state:n,dispatch:t})=>se(n,t),nn=n=>({state:t,dispatch:e})=>{let r=w(n,t.schema);return fe(r)(t,e)},rn=()=>({state:n,dispatch:t})=>oe(n,t);function q(n,t){return t.nodes[n]?"node":t.marks[n]?"mark":null}function ht(n,t){let e=typeof t=="string"?[t]:t;return Object.keys(n).reduce((r,s)=>(e.includes(s)||(r[s]=n[s]),r),{})}var sn=(n,t)=>({tr:e,state:r,dispatch:s})=>{let o=null,i=null,a=q(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=w(n,r.schema)),a==="mark"&&(i=T(n,r.schema)),s&&e.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(l,d)=>{o&&o===l.type&&e.setNodeMarkup(d,void 0,ht(l.attrs,t)),i&&l.marks.length&&l.marks.forEach(u=>{i===u.type&&e.addMark(d,d+l.nodeSize,i.create(ht(u.attrs,t)))})})}),!0):!1},on=()=>({tr:n,dispatch:t})=>(t&&n.scrollIntoView(),!0),an=()=>({tr:n,commands:t})=>t.setTextSelection({from:0,to:n.doc.content.size}),cn=()=>({state:n,dispatch:t})=>ie(n,t),ln=()=>({state:n,dispatch:t})=>ae(n,t),dn=()=>({state:n,dispatch:t})=>ce(n,t),un=()=>({state:n,dispatch:t})=>le(n,t),fn=()=>({state:n,dispatch:t})=>de(n,t);function It(n,t,e={}){return V(n,t,{slice:!1,parseOptions:e})}var pn=(n,t=!1,e={})=>({tr:r,editor:s,dispatch:o})=>{let{doc:i}=r,a=It(n,s.schema,e);return o&&r.replaceWith(0,i.content.size,a).setMeta("preventUpdate",!t),!0};function sr(n,t){let e=new Gt(n);return t.forEach(r=>{r.steps.forEach(s=>{e.step(s)})}),e}function mn(n){for(let t=0;t<n.edgeCount;t+=1){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function or(n,t){let e=[];return n.descendants((r,s)=>{t(r)&&e.push({node:r,pos:s})}),e}function ir(n,t,e){let r=[];return n.nodesBetween(t.from,t.to,(s,o)=>{e(s)&&r.push({node:s,pos:o})}),r}function hn(n,t){for(let e=n.depth;e>0;e-=1){let r=n.node(e);if(t(r))return{pos:e>0?n.before(e):0,start:n.start(e),depth:e,node:r}}}function lt(n){return t=>hn(t.$from,n)}function Rt(n,t){let e=Wt.fromSchema(t).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(e),s.innerHTML}function dt(n){let t=_.resolve(n);return Ct(t)}function ar(n,t){let e=dt(t),r=xt.fromJSON(e,n);return Rt(r.content,e)}function cr(n,t){let e=dt(t),r=nt(n);return Et.fromSchema(e).parse(r).toJSON()}function jt(n,t){let e={from:0,to:n.content.size};return Ot(n,e,t)}function lr(n,t,e){let{blockSeparator:r=`

`,textSerializers:s={}}=e||{},o=dt(t),i=xt.fromJSON(o,n);return jt(i,{blockSeparator:r,textSerializers:{...at(o),...s}})}function $t(n,t){let e=T(t,n.schema),{from:r,to:s,empty:o}=n.selection,i=[];o?(n.storedMarks&&i.push(...n.storedMarks),i.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,c=>{i.push(...c.marks)});let a=i.find(c=>c.type.name===e.name);return a?{...a.attrs}:{}}function gn(n,t){let e=w(t,n.schema),{from:r,to:s}=n.selection,o=[];n.doc.nodesBetween(r,s,a=>{o.push(a)});let i=o.reverse().find(a=>a.type.name===e.name);return i?{...i.attrs}:{}}function yn(n,t){let e=q(typeof t=="string"?t:t.name,n.schema);return e==="node"?gn(n,t):e==="mark"?$t(n,t):{}}function bn(n,t=JSON.stringify){let e={};return n.filter(r=>{let s=t(r);return Object.prototype.hasOwnProperty.call(e,s)?!1:e[s]=!0})}function kn(n){let t=bn(n);return t.length===1?t:t.filter((e,r)=>!t.filter((o,i)=>i!==r).some(o=>e.oldRange.from>=o.oldRange.from&&e.oldRange.to<=o.oldRange.to&&e.newRange.from>=o.newRange.from&&e.newRange.to<=o.newRange.to))}function dr(n){let{mapping:t,steps:e}=n,r=[];return t.maps.forEach((s,o)=>{let i=[];if(s.ranges.length)s.forEach((a,c)=>{i.push({from:a,to:c})});else{let{from:a,to:c}=e[o];if(a===void 0||c===void 0)return;i.push({from:a,to:c})}i.forEach(({from:a,to:c})=>{let l=t.slice(o).map(a,-1),d=t.slice(o).map(c),u=t.invert().map(l,-1),f=t.invert().map(d);r.push({oldRange:{from:u,to:f},newRange:{from:l,to:d}})})}),kn(r)}function wn(n,t=0){let r=n.type===n.type.schema.topNodeType?0:1,s=t,o=s+n.nodeSize,i=n.marks.map(l=>{let d={type:l.type.name};return Object.keys(l.attrs).length&&(d.attrs={...l.attrs}),d}),a={...n.attrs},c={type:n.type.name,from:s,to:o};return Object.keys(a).length&&(c.attrs=a),i.length&&(c.marks=i),n.content.childCount&&(c.content=[],n.forEach((l,d)=>{var u;(u=c.content)===null||u===void 0||u.push(wn(l,t+d+r))})),n.text&&(c.text=n.text),c}function Dt(n,t,e){let r=[];return n===t?e.resolve(n).marks().forEach(s=>{let o=e.resolve(n-1),i=ct(o,s.type);i&&r.push({mark:s,...i})}):e.nodesBetween(n,t,(s,o)=>{r.push(...s.marks.map(i=>({from:o,to:o+s.nodeSize,mark:i})))}),r}function rt(n,t,e={}){let{empty:r,ranges:s}=n.selection,o=t?T(t,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(u=>o?o.name===u.type.name:!0).find(u=>W(u.attrs,e,{strict:!1}));let i=0,a=[];if(s.forEach(({$from:u,$to:f})=>{let p=u.pos,h=f.pos;n.doc.nodesBetween(p,h,(m,y)=>{if(!m.isText&&!m.marks.length)return;let b=Math.max(p,y),M=Math.min(h,y+m.nodeSize),S=M-b;i+=S,a.push(...m.marks.map(O=>({mark:O,from:b,to:M})))})}),i===0)return!1;let c=a.filter(u=>o?o.name===u.mark.type.name:!0).filter(u=>W(u.mark.attrs,e,{strict:!1})).reduce((u,f)=>u+f.to-f.from,0),l=a.filter(u=>o?u.mark.type!==o&&u.mark.type.excludes(o):!0).reduce((u,f)=>u+f.to-f.from,0);return(c>0?c+l:c)>=i}function Mn(n,t,e={}){if(!t)return j(n,null,e)||rt(n,null,e);let r=q(t,n.schema);return r==="node"?j(n,t,e):r==="mark"?rt(n,t,e):!1}function gt(n,t){let{nodeExtensions:e}=U(t),r=e.find(i=>i.name===n);if(!r)return!1;let s={name:r.name,options:r.options,storage:r.storage},o=k(g(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Sn(n){var t;let e=(t=n.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=n.toJSON();return JSON.stringify(e)===JSON.stringify(r)}function ur(n){return n instanceof I}function fr(n,t,e){let s=n.state.doc.content.size,o=v(t,0,s),i=v(e,0,s),a=n.coordsAtPos(o),c=n.coordsAtPos(i,-1),l=Math.min(a.top,c.top),d=Math.max(a.bottom,c.bottom),u=Math.min(a.left,c.left),f=Math.max(a.right,c.right),p=f-u,h=d-l,b={top:l,bottom:d,left:u,right:f,width:p,height:h,x:u,y:l};return{...b,toJSON:()=>b}}function vn(n,t,e){var r;let{selection:s}=t,o=null;if(Pt(s)&&(o=s.$cursor),o){let a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!e.isInSet(a)||!a.some(c=>c.type.excludes(e))}let{ranges:i}=s;return i.some(({$from:a,$to:c})=>{let l=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(e):!1;return n.doc.nodesBetween(a.pos,c.pos,(d,u,f)=>{if(l)return!1;if(d.isInline){let p=!f||f.type.allowsMarkType(e),h=!!e.isInSet(d.marks)||!d.marks.some(m=>m.type.excludes(e));l=p&&h}return!l}),l})}var En=(n,t={})=>({tr:e,state:r,dispatch:s})=>{let{selection:o}=e,{empty:i,ranges:a}=o,c=T(n,r.schema);if(s)if(i){let l=$t(r,c);e.addStoredMark(c.create({...l,...t}))}else a.forEach(l=>{let d=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(d,u,(f,p)=>{let h=Math.max(p,d),m=Math.min(p+f.nodeSize,u);f.marks.find(b=>b.type===c)?f.marks.forEach(b=>{c===b.type&&e.addMark(h,m,c.create({...b.attrs,...t}))}):e.addMark(h,m,c.create(t))})});return vn(r,e,c)},xn=(n,t)=>({tr:e})=>(e.setMeta(n,t),!0),Tn=(n,t={})=>({state:e,dispatch:r,chain:s})=>{let o=w(n,e.schema);return o.isTextblock?s().command(({commands:i})=>ut(o,t)(e)?!0:i.clearNodes()).command(({state:i})=>ut(o,t)(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},An=n=>({tr:t,dispatch:e})=>{if(e){let{doc:r}=t,s=v(n,0,r.content.size),o=I.create(r,s);t.setSelection(o)}return!0},Cn=n=>({tr:t,dispatch:e})=>{if(e){let{doc:r}=t,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n,i=E.atStart(r).from,a=E.atEnd(r).to,c=v(s,i,a),l=v(o,i,a),d=E.create(r,c,l);t.setSelection(d)}return!0},On=n=>({state:t,dispatch:e})=>{let r=w(n,t.schema);return pe(r)(t,e)};function H(n,t,e){return Object.fromEntries(Object.entries(e).filter(([r])=>{let s=n.find(o=>o.type===t&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}function yt(n,t){let e=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(e){let r=e.filter(s=>t?.includes(s.type.name));n.tr.ensureMarks(r)}}var Pn=({keepMarks:n=!0}={})=>({tr:t,state:e,dispatch:r,editor:s})=>{let{selection:o,doc:i}=t,{$from:a,$to:c}=o,l=s.extensionManager.attributes,d=H(l,a.node().type.name,a.node().attrs);if(o instanceof I&&o.node.isBlock)return!a.parentOffset||!z(i,a.pos)?!1:(r&&(n&&yt(e,s.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){let u=c.parentOffset===c.parent.content.size;o instanceof E&&t.deleteSelection();let f=a.depth===0?void 0:mn(a.node(-1).contentMatchAt(a.indexAfter(-1))),p=u&&f?[{type:f,attrs:d}]:void 0,h=z(t.doc,t.mapping.map(a.pos),1,p);if(!p&&!h&&z(t.doc,t.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:d}]:void 0),h&&(t.split(t.mapping.map(a.pos),1,p),f&&!u&&!a.parentOffset&&a.parent.type!==f)){let m=t.mapping.map(a.before()),y=t.doc.resolve(m);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&t.setNodeMarkup(t.mapping.map(a.before()),f)}n&&yt(e,s.extensionManager.splittableMarks),t.scrollIntoView()}return!0},Nn=n=>({tr:t,state:e,dispatch:r,editor:s})=>{var o;let i=w(n,e.schema),{$from:a,$to:c}=e.selection,l=e.selection.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(c))return!1;let d=a.node(-1);if(d.type!==i)return!1;let u=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==i||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let y=L.empty,b=a.index(-1)?1:a.index(-2)?2:3;for(let P=a.depth-b;P>=a.depth-3;P-=1)y=L.from(a.node(P).copy(y));let M=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,S=H(u,a.node().type.name,a.node().attrs),O=((o=i.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;y=y.append(L.from(i.createAndFill(null,O)||void 0));let D=a.before(a.depth-(b-1));t.replace(D,a.after(-M),new Vt(y,4-b,0));let F=-1;t.doc.nodesBetween(D,t.doc.content.size,(P,Ft)=>{if(F>-1)return!1;P.isTextblock&&P.content.size===0&&(F=Ft+1)}),F>-1&&t.setSelection(E.near(t.doc.resolve(F))),t.scrollIntoView()}return!0}let f=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p=H(u,d.type.name,d.attrs),h=H(u,a.node().type.name,a.node().attrs);t.delete(a.pos,c.pos);let m=f?[{type:i,attrs:p},{type:f,attrs:h}]:[{type:i,attrs:p}];return z(t.doc,a.pos,2)?(r&&t.split(a.pos,2,m).scrollIntoView(),!0):!1},bt=(n,t)=>{let e=lt(i=>i.type===t)(n.selection);if(!e)return!0;let r=n.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(r===void 0)return!0;let s=n.doc.nodeAt(r);return e.node.type===s?.type&&ot(n.doc,e.pos)&&n.join(e.pos),!0},kt=(n,t)=>{let e=lt(i=>i.type===t)(n.selection);if(!e)return!0;let r=n.doc.resolve(e.start).after(e.depth);if(r===void 0)return!0;let s=n.doc.nodeAt(r);return e.node.type===s?.type&&ot(n.doc,r)&&n.join(r),!0},Bn=(n,t)=>({editor:e,tr:r,state:s,dispatch:o,chain:i,commands:a,can:c})=>{let{extensions:l}=e.extensionManager,d=w(n,s.schema),u=w(t,s.schema),{selection:f}=s,{$from:p,$to:h}=f,m=p.blockRange(h);if(!m)return!1;let y=lt(b=>gt(b.type.name,l))(f);if(m.depth>=1&&y&&m.depth-y.depth<=1){if(y.node.type===d)return a.liftListItem(u);if(gt(y.node.type.name,l)&&d.validContent(y.node.content)&&o)return i().command(()=>(r.setNodeMarkup(y.pos,d),!0)).command(()=>bt(r,d)).command(()=>kt(r,d)).run()}return i().command(()=>c().wrapInList(d)?!0:a.clearNodes()).wrapInList(d).command(()=>bt(r,d)).command(()=>kt(r,d)).run()},In=(n,t={},e={})=>({state:r,commands:s})=>{let{extendEmptyMarkRange:o=!1}=e,i=T(n,r.schema);return rt(r,i,t)?s.unsetMark(i,{extendEmptyMarkRange:o}):s.setMark(i,t)},Rn=(n,t,e={})=>({state:r,commands:s})=>{let o=w(n,r.schema),i=w(t,r.schema);return j(r,o,e)?s.setNode(i):s.setNode(o,e)},jn=(n,t={})=>({state:e,commands:r})=>{let s=w(n,e.schema);return j(e,s,t)?r.lift(s):r.wrapIn(s,t)},$n=()=>({state:n,dispatch:t})=>{let e=n.plugins;for(let r=0;r<e.length;r+=1){let s=e[r],o;if(s.spec.isInputRules&&(o=s.getState(n))){if(t){let i=n.tr,a=o.transform;for(let c=a.steps.length-1;c>=0;c-=1)i.step(a.steps[c].invert(a.docs[c]));if(o.text){let c=i.doc.resolve(o.from).marks();i.replaceWith(o.from,o.to,n.schema.text(o.text,c))}else i.delete(o.from,o.to)}return!0}}return!1},Dn=()=>({tr:n,dispatch:t})=>{let{selection:e}=n,{empty:r,ranges:s}=e;return r||t&&s.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},Fn=(n,t={})=>({tr:e,state:r,dispatch:s})=>{var o;let{extendEmptyMarkRange:i=!1}=t,{selection:a}=e,c=T(n,r.schema),{$from:l,empty:d,ranges:u}=a;if(!s)return!0;if(d&&i){let{from:f,to:p}=a,h=(o=l.marks().find(y=>y.type===c))===null||o===void 0?void 0:o.attrs,m=ct(l,c,h);m&&(f=m.from,p=m.to),e.removeMark(f,p,c)}else u.forEach(f=>{e.removeMark(f.$from.pos,f.$to.pos,c)});return e.removeStoredMark(c),!0},Ln=(n,t={})=>({tr:e,state:r,dispatch:s})=>{let o=null,i=null,a=q(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=w(n,r.schema)),a==="mark"&&(i=T(n,r.schema)),s&&e.selection.ranges.forEach(c=>{let l=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(l,d,(u,f)=>{o&&o===u.type&&e.setNodeMarkup(f,void 0,{...u.attrs,...t}),i&&u.marks.length&&u.marks.forEach(p=>{if(i===p.type){let h=Math.max(f,l),m=Math.min(f+u.nodeSize,d);e.addMark(h,m,i.create({...p.attrs,...t}))}})})}),!0):!1},zn=(n,t={})=>({state:e,dispatch:r})=>{let s=w(n,e.schema);return ue(s,t)(e,r)},Hn=(n,t={})=>({state:e,dispatch:r})=>{let s=w(n,e.schema);return me(s,t)(e,r)},_n=Object.freeze({__proto__:null,blur:Ce,clearContent:Oe,clearNodes:Pe,command:Ne,createParagraphNear:Be,deleteCurrentNode:Ie,deleteNode:Re,deleteRange:je,deleteSelection:$e,enter:De,exitCode:Fe,extendMarkRange:ze,first:He,focus:_e,forEach:We,insertContent:Ve,insertContentAt:Ke,joinUp:Ge,joinDown:qe,joinBackward:Xe,joinForward:Ye,keyboardShortcut:Ze,lift:tn,liftEmptyBlock:en,liftListItem:nn,newlineInCode:rn,resetAttributes:sn,scrollIntoView:on,selectAll:an,selectNodeBackward:cn,selectNodeForward:ln,selectParentNode:dn,selectTextblockEnd:un,selectTextblockStart:fn,setContent:pn,setMark:En,setMeta:xn,setNode:Tn,setNodeSelection:An,setTextSelection:Cn,sinkListItem:On,splitBlock:Pn,splitListItem:Nn,toggleList:Bn,toggleMark:In,toggleNode:Rn,toggleWrap:jn,undoInputRule:$n,unsetAllMarks:Dn,unsetMark:Fn,updateAttributes:Ln,wrapIn:zn,wrapInList:Hn}),Wn=x.create({name:"commands",addCommands(){return{..._n}}}),Vn=x.create({name:"editable",addProseMirrorPlugins(){return[new C({key:new $("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Jn=x.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:n}=this;return[new C({key:new $("focusEvents"),props:{handleDOMEvents:{focus:(t,e)=>{n.isFocused=!0;let r=n.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,e)=>{n.isFocused=!1;let r=n.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Un=x.create({name:"keymap",addKeyboardShortcuts(){let n=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:a})=>{let{selection:c,doc:l}=a,{empty:d,$anchor:u}=c,{pos:f,parent:p}=u,h=N.atStart(l).from===f;return!d||!h||!p.type.isTextblock||p.textContent.length?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return G()||Bt()?o:s},addProseMirrorPlugins(){return[new C({key:new $("clearDocument"),appendTransaction:(n,t,e)=>{if(!(n.some(h=>h.docChanged)&&!t.doc.eq(e.doc)))return;let{empty:s,from:o,to:i}=t.selection,a=N.atStart(t.doc).from,c=N.atEnd(t.doc).to,l=o===a&&i===c,d=e.doc.textBetween(0,e.doc.content.size," "," ").length===0;if(s||!l||!d)return;let u=e.tr,f=J({state:e,transaction:u}),{commands:p}=new B({editor:this.editor,state:f});if(p.clearNodes(),!!u.steps.length)return u}})]}}),Kn=x.create({name:"tabindex",addProseMirrorPlugins(){return[new C({key:new $("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Gn=Object.freeze({__proto__:null,ClipboardTextSerializer:Ae,Commands:Wn,Editable:Vn,FocusEvents:Jn,Keymap:Un,Tabindex:Kn}),qn=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Xn(n,t){let e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;let r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}var wt=class extends Z{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Xn(qn,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){let r=At(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:r});this.view.updateState(s)}unregisterPlugin(t){if(this.isDestroyed)return;let e=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(e))});this.view.updateState(r)}createExtensionManager(){let e=[...this.options.enableCoreExtensions?Object.values(Gn):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r?.type));this.extensionManager=new _(e,this)}createCommandManager(){this.commandManager=new B({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t=It(this.options.content,this.schema,this.options.parseOptions),e=Nt(t,this.options.autofocus);this.view=new zt(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Lt.create({doc:t,selection:e||void 0})});let r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();let s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;let e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(i=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(i)});return}let e=this.state.apply(t),r=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});let s=t.getMeta("focus"),o=t.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return yn(this.state,t)}isActive(t,e){let r=typeof t=="string"?t:null,s=typeof t=="string"?e:t;return Mn(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Rt(this.state.doc.content,this.schema)}getText(t){let{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return jt(this.state.doc,{blockSeparator:e,textSerializers:{...r,...at(this.schema)}})}get isEmpty(){return Sn(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}};function pr(n){return new A({find:n.find,handler:({state:t,range:e,match:r})=>{let s=k(n.getAttributes,void 0,r);if(s===!1||s===null)return null;let{tr:o}=t,i=r[r.length-1],a=r[0],c=e.to;if(i){let l=a.search(/\S/),d=e.from+a.indexOf(i),u=d+i.length;if(Dt(e.from,e.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===n.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;u<e.to&&o.delete(u,e.to),d>e.from&&o.delete(e.from+l,d),c=e.from+l+i.length,o.addMark(e.from+l,c,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function mr(n){return new A({find:n.find,handler:({state:t,range:e,match:r})=>{let s=k(n.getAttributes,void 0,r)||{},{tr:o}=t,i=e.from,a=e.to;if(r[1]){let c=r[0].lastIndexOf(r[1]),l=i+c;l>a?l=a:a=l+r[1].length;let d=r[0][r[0].length-1];o.insertText(d,i+r[0].length-1),o.replaceWith(l,a,n.type.create(s))}else r[0]&&o.replaceWith(i,a,n.type.create(s))}})}function hr(n){return new A({find:n.find,handler:({state:t,range:e,match:r})=>{let s=t.doc.resolve(e.from),o=k(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,n.type,o)}})}function gr(n){return new A({find:n.find,handler:({state:t,range:e,match:r})=>{let s=n.replace,o=e.from,i=e.to;if(r[1]){let a=r[0].lastIndexOf(r[1]);s+=r[0].slice(a+r[1].length),o+=a;let c=o-i;c>0&&(s=r[0].slice(a-c,a)+s,o=i)}t.tr.insertText(s,o,i)}})}function yr(n){return new A({find:n.find,handler:({state:t,range:e,match:r})=>{let s=k(n.getAttributes,void 0,r)||{},o=t.tr.delete(e.from,e.to),a=o.doc.resolve(e.from).blockRange(),c=a&&qt(a,n.type,s);if(!c)return null;o.wrap(a,c);let l=o.doc.resolve(e.from-1).nodeBefore;l&&l.type===n.type&&ot(o.doc,e.from-1)&&(!n.joinPredicate||n.joinPredicate(r,l))&&o.join(e.from-1)}})}var st=class n{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=k(g(this,"addOptions",{name:this.name}))),this.storage=k(g(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new n(t)}configure(t={}){let e=this.extend();return e.options=K(this.options,t),e.storage=k(g(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){let e=new n(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=k(g(e,"addOptions",{name:e.name})),e.storage=k(g(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){let{tr:r}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){let i=s.marks();if(!!!i.find(l=>l?.type.name===e.name))return!1;let c=i.find(l=>l?.type.name===e.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),t.view.dispatch(r),!0}return!1}},Mt=class n{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=k(g(this,"addOptions",{name:this.name}))),this.storage=k(g(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new n(t)}configure(t={}){let e=this.extend();return e.options=K(this.options,t),e.storage=k(g(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){let e=new n(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=k(g(e,"addOptions",{name:e.name})),e.storage=k(g(e,"addStorage",{name:e.name,options:e.options})),e}},St=class{constructor(t,e,r){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,r,s,o,i,a,c;let{view:l}=this.editor,d=t.target,u=d.nodeType===3?(e=d.parentElement)===null||e===void 0?void 0:e.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!u)return;let f=0,p=0;if(this.dom!==u){let y=this.dom.getBoundingClientRect(),b=u.getBoundingClientRect(),M=(s=t.offsetX)!==null&&s!==void 0?s:(o=t.nativeEvent)===null||o===void 0?void 0:o.offsetX,S=(i=t.offsetY)!==null&&i!==void 0?i:(a=t.nativeEvent)===null||a===void 0?void 0:a.offsetY;f=b.x-y.x+M,p=b.y-y.y+S}(c=t.dataTransfer)===null||c===void 0||c.setDragImage(this.dom,f,p);let h=I.create(l.state.doc,this.getPos()),m=l.state.tr.setSelection(h);l.dispatch(m)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});let r=t.target;if(!(this.dom.contains(r)&&!(!((e=this.contentDOM)===null||e===void 0)&&e.contains(r))))return!1;let o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;let{isEditable:a}=this.editor,{isDragging:c}=this,l=!!this.node.type.spec.draggable,d=I.isSelectable(this.node),u=t.type==="copy",f=t.type==="paste",p=t.type==="cut",h=t.type==="mousedown",m=t.type.startsWith("drag");if(!l&&d&&m&&t.preventDefault(),l&&m&&!c)return t.preventDefault(),!1;if(l&&a&&!c&&h){let y=r.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||o||u||f||p||h&&d)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&G()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{let r=this.getPos();return e.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0})}deleteNode(){let t=this.getPos(),e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function br(n){return new R({find:n.find,handler:({state:t,range:e,match:r})=>{let s=k(n.getAttributes,void 0,r);if(s===!1||s===null)return null;let{tr:o}=t,i=r[r.length-1],a=r[0],c=e.to;if(i){let l=a.search(/\S/),d=e.from+a.indexOf(i),u=d+i.length;if(Dt(e.from,e.to,t.doc).filter(p=>p.mark.type.excluded.find(m=>m===n.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;u<e.to&&o.delete(u,e.to),d>e.from&&o.delete(e.from+l,d),c=e.from+l+i.length,o.addMark(e.from+l,c,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function kr(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function wr(n){return typeof n=="string"}function Mr(n){return new R({find:n.find,handler({match:t,chain:e,range:r}){let s=k(n.getAttributes,void 0,t);if(s===!1||s===null)return null;t.input&&e().deleteRange(r).insertContentAt(r.from,{type:n.type.name,attrs:s})}})}function Sr(n){return new R({find:n.find,handler:({state:t,range:e,match:r})=>{let s=n.replace,o=e.from,i=e.to;if(r[1]){let a=r[0].lastIndexOf(r[1]);s+=r[0].slice(a+r[1].length),o+=a;let c=o-i;c>0&&(s=r[0].slice(a-c,a)+s,o=i)}t.tr.insertText(s,o,i)}})}var vt=class{constructor(t){this.transaction=t,this.currentStep=this.transaction.steps.length}map(t){let e=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((s,o)=>{let i=o.getMap().mapResult(s);return i.deleted&&(e=!0),i.pos},t),deleted:e}}};export{B as CommandManager,wt as Editor,x as Extension,A as InputRule,st as Mark,Mt as Node,St as NodeView,R as PasteRule,vt as Tracker,k as callOrReturn,sr as combineTransactionSteps,Xn as createStyleTag,mn as defaultBlockAt,ht as deleteProps,nt as elementFromString,kr as escapeForRegEx,Gn as extensions,or as findChildren,ir as findChildrenInRange,xe as findDuplicates,lt as findParentNode,hn as findParentNodeClosestToPos,ye as fromString,ar as generateHTML,cr as generateJSON,lr as generateText,yn as getAttributes,dr as getChangedRanges,wn as getDebugJSON,g as getExtensionField,Rt as getHTMLFromFragment,$t as getMarkAttributes,ct as getMarkRange,T as getMarkType,Dt as getMarksBetween,gn as getNodeAttributes,w as getNodeType,dt as getSchema,jt as getText,Ot as getTextBetween,be as getTextContentFromNodes,at as getTextSerializersFromSchema,we as inputRulesPlugin,Mn as isActive,ge as isEmptyObject,At as isFunction,gt as isList,Bt as isMacOS,rt as isMarkActive,j as isNodeActive,Sn as isNodeEmpty,ur as isNodeSelection,Me as isNumber,Q as isPlainObject,it as isRegExp,wr as isString,Pt as isTextSelection,G as isiOS,pr as markInputRule,br as markPasteRule,he as mergeAttributes,K as mergeDeep,v as minMax,mr as nodeInputRule,Mr as nodePasteRule,W as objectIncludes,Ee as pasteRulesPlugin,fr as posToDOMRect,bn as removeDuplicates,gr as textInputRule,Sr as textPasteRule,hr as textblockTypeInputRule,yr as wrappingInputRule};
//# sourceMappingURL=core.bundle.mjs.map